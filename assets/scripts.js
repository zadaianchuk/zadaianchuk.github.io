function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(t,i,r){"use strict";var n=function(t,e){var i=this;this.el=t,this.options={},Object.keys(s).forEach(function(t){i.options[t]=s[t]}),Object.keys(e).forEach(function(t){i.options[t]=e[t]}),this.isInput="input"===this.el.tagName.toLowerCase(),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.getAttribute(this.attr):this.el.textContent,this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,r&&this.options.stringsElement instanceof r?this.stringsElement=this.options.stringsElement[0]:this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};n.prototype={constructor:n,init:function(){var e=this;e.timeout=setTimeout(function(){for(var t=0;t<e.strings.length;++t)e.sequence[t]=t;e.shuffle&&(e.sequence=e.shuffleArray(e.sequence)),e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},e.startDelay)},build:function(){var e=this;(!0===this.showCursor&&(this.cursor=i.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)),this.stringsElement)&&(this.strings=[],this.stringsElement.style.display="none",Array.prototype.slice.apply(this.stringsElement.children).forEach(function(t){e.strings.push(t.innerHTML)}));this.init()},typewrite:function(n,a){if(!0!==this.stop){var t=Math.round(70*Math.random())+this.typeSpeed,o=this;o.timeout=setTimeout(function(){var t=0,e=n.substr(a);if("^"===e.charAt(0)){var i=1;/^\^\d+/.test(e)&&(i+=(e=/\d+/.exec(e)[0]).length,t=parseInt(e)),n=n.substring(0,a)+n.substring(a+i)}if("html"===o.contentType){var s=n.substr(a).charAt(0);if("<"===s||"&"===s){var r="";for(r="<"===s?">":";";n.substr(a+1).charAt(0)!==r&&(n.substr(a).charAt(0),!(++a+1>n.length)););a++,r}}o.timeout=setTimeout(function(){if(a===n.length){if(o.options.onStringTyped(o.arrayPos),o.arrayPos===o.strings.length-1&&(o.options.callback(),o.curLoop++,!1===o.loop||o.curLoop===o.loopCount))return;o.timeout=setTimeout(function(){o.backspace(n,a)},o.backDelay)}else{0===a&&o.options.preStringTyped(o.arrayPos);var t=n.substr(0,a+1);o.attr?o.el.setAttribute(o.attr,t):o.isInput?o.el.value=t:"html"===o.contentType?o.el.innerHTML=t:o.el.textContent=t,a++,o.typewrite(n,a)}},t)},t)}},backspace:function(e,i){if(!0!==this.stop){var t=Math.round(70*Math.random())+this.backSpeed,s=this;s.timeout=setTimeout(function(){if("html"===s.contentType&&">"===e.substr(i).charAt(0)){for(;"<"!==e.substr(i-1).charAt(0)&&(e.substr(i).charAt(0),!(--i<0)););i--,"<"}var t=e.substr(0,i);s.attr?s.el.setAttribute(s.attr,t):s.isInput?s.el.value=t:"html"===s.contentType?s.el.innerHTML=t:s.el.textContent=t,i>s.stopNum?(i--,s.backspace(e,i)):i<=s.stopNum&&(s.arrayPos++,s.arrayPos===s.strings.length?(s.arrayPos=0,s.shuffle&&(s.sequence=s.shuffleArray(s.sequence)),s.init()):s.typewrite(s.strings[s.sequence[s.arrayPos]],i))},t)}},shuffleArray:function(t){var e,i,s=t.length;if(s)for(;--s;)e=t[i=Math.floor(Math.random()*(s+1))],t[i]=t[s],t[s]=e;return t},reset:function(){clearInterval(this.timeout);this.el.getAttribute("id");this.el.textContent="","undefined"!=typeof this.cursor&&"undefined"!=typeof this.cursor.parentNode&&this.cursor.parentNode.removeChild(this.cursor),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},n["new"]=function(t,s){Array.prototype.slice.apply(i.querySelectorAll(t)).forEach(function(t){var e=t._typed,i="object"==typeof s&&s;e&&e.reset(),t._typed=e=new n(t,i),"string"==typeof s&&e[s]()})},r&&(r.fn.typed=function(s){return this.each(function(){var t=r(this),e=t.data("typed"),i="object"==typeof s&&s;e&&e.reset(),t.data("typed",e=new n(this,i)),"string"==typeof s&&e[s]()})}),t.Typed=n;var s={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window,document,window.jQuery),function(u){u.fn.animatedModal=function(t){function e(){o.css({"z-index":r.zIndexOut}),r.afterClose()}function i(){r.afterOpen()}var s=u(this),r=u.extend({modalTarget:"animatedModal",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndexIn:"9999",zIndexOut:"-9999",color:"#39BEB9",opacityIn:"1",opacityOut:"0",animatedIn:"zoomIn",animatedOut:"zoomOut",animationDuration:".6s",overflow:"auto",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},t),n=u(".close-"+r.modalTarget),a=u(s).attr("href"),o=u("body").find("#"+r.modalTarget),l="#"+o.attr("id");o.addClass("animated"),o.addClass(r.modalTarget+"-off");var h={position:r.position,width:r.width,height:r.height,top:r.top,left:r.left,"background-color":r.color,"overflow-y":r.overflow,"z-index":r.zIndexOut,opacity:r.opacityOut,"-webkit-animation-duration":r.animationDuration,"-moz-animation-duration":r.animationDuration,"-ms-animation-duration":r.animationDuration,"animation-duration":r.animationDuration};o.css(h),s.click(function(t){t.preventDefault(),u("body, html").css({overflow:"hidden"}),a==l&&(o.hasClass(r.modalTarget+"-off")&&(o.removeClass(r.animatedOut),o.removeClass(r.modalTarget+"-off"),o.addClass(r.modalTarget+"-on")),o.hasClass(r.modalTarget+"-on")&&(r.beforeOpen(),o.css({opacity:r.opacityIn,"z-index":r.zIndexIn}),o.addClass(r.animatedIn),o.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)))}),n.click(function(t){t.preventDefault(),u("body, html").css({overflow:"auto"}),r.beforeClose(),o.hasClass(r.modalTarget+"-on")&&(o.removeClass(r.modalTarget+"-on"),o.addClass(r.modalTarget+"-off")),o.hasClass(r.modalTarget+"-off")&&(o.removeClass(r.animatedIn),o.addClass(r.animatedOut),o.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e))})}}(jQuery),function(e,i){"use strict";if("object"==typeof exports)module.exports=i(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(t){return e.dimple=i(t),e.dimple});else if(e.d3)e.dimple=i(e.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(q){"use strict";var W={version:"2.2.0",plot:{},aggregateMethod:{},axis:function(t,e,i,s,r,n){this.chart=t,this.position=e,this.categoryFields=null==r?i:[].concat(r),this.measure=s,this.timeField=r,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null==n||n,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,i=[],s=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)(e=this.chart.series[t])[this.position]===this&&(e.data&&0<e.data.length?i=i.concat(e.data):s=!0);s&&this.chart.data&&(i=i.concat(this.chart.data))}return i},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(10<this.chart._heightPixels()/35?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var t,e,i,s,r,n,a;return null!==this.tickFormat&&void 0!==this.tickFormat?t=this._hasTimeField()?q.timeFormat(this.tickFormat):q.format(this.tickFormat):this.showPercent?t=q.format(".0%"):this.useLog&&null!==this.measure?t=function(t){var e=Math.floor(Math.abs(t),0).toString().length,i=Math.min(Math.floor((e-1)/3),4),s="kmBT".substring(i-1,i),r="0"===Math.round(t/Math.pow(1e3,i)*10).toString().slice(-1)?0:1;return 0===t?0:q.format(",."+r+"f")(t/Math.pow(1e3,i))+s}:null!==this.measure?(e=Math.floor(Math.abs(this._max),0).toString(),i=Math.floor(Math.abs(this._min),0).toString(),3<(s=Math.max(i.length,e.length))?(r=Math.min(Math.floor((s-1)/3),4),n="kmBT".substring(r-1,r),a=s-3*r<=1?1:0,t=function(t){return 0===t?0:q.format(",."+a+"f")(t/Math.pow(1e3,r))+n}):(a=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),t=q.format(",."+a+"f"))):t=function(t){return t},t},this._getTimePeriod=function(){var t=this.timePeriod,e=30,i=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(t=i/1e3<=e?q.timeSecond:i/6e4<=e?q.timeMinute:i/36e5<=e?q.timeHour:i/864e5<=e?q.timeHay:i/6048e5<=e?q.timeWeek:i/26298e5<=e?q.timeMonth:q.timeYear),t},this._getTooltipText=function(i,s){if(this._hasTimeField())s[this.position+"Field"][0]&&i.push(this.timeField+": "+this._getFormat()(s[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,e){null!=t&&s[this.position+"Field"][e]&&i.push(t+(s[this.position+"Field"][e]!==t?": "+s[this.position+"Field"][e]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":i.push(this.measure+": "+this._getFormat()(s.width));break;case"y":i.push(this.measure+": "+this._getFormat()(s.height));break;case"p":i.push(this.measure+": "+this._getFormat()(s.angle)+" ("+q.format(".0%")(s.piePct)+")");break;default:i.push(this.measure+": "+this._getFormat()(s[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&0<this.categoryFields.length},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(t){return null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(t)?Date.parse(t):new Date(t):q.timeParse(this.dateParseFormat)(t)},this._update=function(t){var e,i,s,r,n=[],a=this.ticks||10,o=function(e,i,s){var t,r,n=e.categoryFields[0],a=e._getAxisData(),o=n,l=!1,h=!0,u=null;for(t=0;t<a.length;t+=1)if(null!=(u=e._parseDate(a[t][n]))&&isNaN(u)){h=!1;break}return h||e.chart.series.forEach(function(t){t[i]===e&&t[s]._hasMeasure()&&(o=t[s].measure,l=!0)},this),r=e._orderRules.concat({ordering:o,desc:l}),W._getOrderedList(a,n,r)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&1<this._max?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!t){if("y"!==this.position||null!==this._scale&&!t)0<this.position.length&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=q.scaleLog().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=q.scaleLinear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):0<this.position.length&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=q.scaleLog().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=q.scaleLinear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):0<this.position.length&&"c"===this.position[0]&&null===this._scale&&(this._scale=q.scaleLinear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=q.scaleTime().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=q.scaleLog().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(n=o(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){n=n.concat(o(t,"y","x"))},this),this._scale=q.scalePoint().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(n.concat([""]))):this._scale=q.scaleLinear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=q.axisLeft().scale(this._scale),this.ticks&&this._draw.ticks(a);break;case 1:this._draw=q.axisRight().scale(this._scale),this.ticks&&this._draw.ticks(a)}}else if(this._hasTimeField()?this._scale=q.scaleTime().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=q.scaleLog().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(n=o(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){n=n.concat(o(t,"x","y"))},this),this._scale=q.scalePoint().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(n.concat([""]))):this._scale=q.scaleLinear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=q.axisBottom().scale(this._scale),this.ticks&&this._draw.ticks(a);break;case 1:this._draw=q.axisTop().scale(this._scale),this.ticks&&this._draw.ticks(a)}return null!==this._slaves&&void 0!==this._slaves&&0<this._slaves.length&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!=t&&!1!==t||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(0<this._scale.ticks(a).length)||"x"!==this.position&&"y"!==this.position||(i=(e=this._scale.ticks(a))[1]-e[0],s=((this._max-this._min)%i).toFixed(0),this._tick_step=i,0!==s&&(this._max=Math.ceil(this._max/i)*i,this._min=Math.floor(this._min/i)*i,this._update(!0))),r=null!=n&&0<n.length?this._scale.copy()(n[0]):0<this._min?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==r&&(this._previousOrigin=null===this._origin?r:this._origin,this._origin=r),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},chart:function(t,e){this.svg=t,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=e,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=q.easeCubicInOut,this.staggerDraw=!1,this.transition={},this._group=t.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var i=0,s=0,r=-1;for(i=0;i<this.axes.length;i+=1){if(this.axes[i]===t){r=s;break}null!=e&&e[0]!==this.axes[i].position[0]||(s+=1)}return r},this._getAllData=function(){var e=[];return null!==this.data&&void 0!==this.data&&0<this.data.length&&(e=e.concat(this.data)),null!==this.series&&void 0!==this.series&&0<this.series.length&&this.series.forEach(function(t){null!==t.data&&void 0!==t.data&&0<t.data.length&&(e=e.concat(t.data))}),e},this._getData=function(t,d,p,e,h,g,f,m,_,y){var i,s,x=[],v=function(t,e){var i=[];return null!==t&&(t._hasTimeField()?i.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){i.push(e[t])},this)),i},b={x:!1,y:!1,z:!1,p:!1,c:!1},u={x:[],y:[]},c={x:[],y:[],z:[],p:[]},n={min:null,max:null},w={x:[],y:[],z:[],p:[]},F=[],C={},k={x:0,y:0,z:0,p:0},P="",S=[],M=[],A=[],T="",E=[],O="",L=[],B="",V=[],r=[],a=t,o=[];for(s in this.storyboard&&0<this.storyboard.categoryFields.length&&(P=this.storyboard.categoryFields[0],S=W._getOrderedList(a,P,this.storyboard._orderRules)),g&&g._hasCategories()&&g._hasMeasure()&&(T=g.categoryFields[0],E=W._getOrderedList(a,T,g._orderRules.concat([{ordering:g.measure,desc:!0}]))),f&&f._hasCategories()&&f._hasMeasure()&&(O=f.categoryFields[0],L=W._getOrderedList(a,O,f._orderRules.concat([{ordering:f.measure,desc:!0}]))),_&&_._hasCategories()&&_._hasMeasure()&&(B=_.categoryFields[0],V=W._getOrderedList(a,B,_._orderRules.concat([{ordering:_.measure,desc:!0}]))),0<a.length&&d&&0<d.length&&(r=[].concat(e),M=[],d.forEach(function(t){void 0!==a[0][t]&&M.push(t)},this),_&&_._hasMeasure()?r.push({ordering:_.measure,desc:!0}):y&&y._hasMeasure()?r.push({ordering:y.measure,desc:!0}):m&&m._hasMeasure()?r.push({ordering:m.measure,desc:!0}):g&&g._hasMeasure()?r.push({ordering:g.measure,desc:!0}):f&&f._hasMeasure()&&r.push({ordering:f.measure,desc:!0}),A=W._getOrderedList(a,M,r)),a.sort(function(t,e){var i,s,r,n,a,o,l=0;if(""!==P&&(l=S.indexOf(t[P])-S.indexOf(e[P])),""!==T&&0===l&&(l=E.indexOf(t[T])-E.indexOf(e[T])),""!==O&&0===l&&(l=L.indexOf(t[O])-L.indexOf(e[O])),""!==B&&0===l&&(l=V.indexOf(t[B])-L.indexOf(e[B])),M&&0<M.length&&0===l)for(i=[].concat(M),r=l=0;r<A.length;r+=1){for(s=[].concat(A[r]),o=a=!0,n=0;n<i.length;n+=1)a=a&&t[i[n]]===s[n],o=o&&e[i[n]]===s[n];if(a||o){l=a&&o?0:a?-1:1;break}}return l}),a.forEach(function(l){var t,e,i,s,r,h=-1,n=v(g,l),a=v(f,l),o=v(m,l),u=v(_,l),c=[];if(d&&0!==d.length)for(i=0;i<d.length;i+=1)void 0===l[d[i]]?c.push(d[i]):c.push(l[d[i]]);else c=["All"];for(t=c.join("/")+"_"+n.join("/")+"_"+a.join("/")+"_"+u.join("/")+"_"+o.join("/"),e=0;e<x.length;e+=1)if(x[e].key===t){h=e;break}-1===h&&(s={key:t,aggField:c,xField:n,xValue:null,xCount:0,yField:a,yValue:null,yCount:0,pField:u,pValue:null,pCount:0,zField:o,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},x.push(s),h=x.length-1),(r=function(t,e){var i,s,r=!0,n={value:0,count:1},a={value:0,count:1},o="";null!==e&&(i=e.getFrameValue(),e.categoryFields.forEach(function(t,e){0<e&&(o+="/"),o+=l[t],r=o===i},this)),null!=t&&r&&(s=x[h],t._hasMeasure()&&null!==l[t.measure]&&void 0!==l[t.measure]&&(-1===s[t.position+"ValueList"].indexOf(l[t.measure])&&s[t.position+"ValueList"].push(l[t.measure]),isNaN(parseFloat(l[t.measure]))&&(b[t.position]=!0),n.value=s[t.position+"Value"],n.count=s[t.position+"Count"],a.value=l[t.measure],s[t.position+"Value"]=p(n,a),s[t.position+"Count"]+=1))})(g,this.storyboard),r(f,this.storyboard),r(m,this.storyboard),r(_,this.storyboard),r(y,this.storyboard)},this),g&&g._hasCategories()&&1<g.categoryFields.length&&void 0!==u.x&&(o=[],f._hasMeasure()&&o.push({ordering:f.measure,desc:!0}),u.x=W._getOrderedList(a,g.categoryFields[1],g._groupOrderRules.concat(o))),f&&f._hasCategories()&&1<f.categoryFields.length&&void 0!==u.y&&(o=[],g._hasMeasure()&&o.push({ordering:g.measure,desc:!0}),u.y=W._getOrderedList(a,f.categoryFields[1],f._groupOrderRules.concat(o)),u.y.reverse()),x.forEach(function(t){null!==g&&(!0===b.x&&(t.xValue=t.xValueList.length),i=g._hasMeasure()&&g._hasCategories()?(c.x[t.xField.join("/")]||0)+(g._hasMeasure()?Math.abs(t.xValue):0):(c.x[t.xField.join("/")]||0)+(f._hasMeasure()?Math.abs(t.yValue):0),c.x[t.xField.join("/")]=i),null!==f&&(!0===b.y&&(t.yValue=t.yValueList.length),i=f._hasMeasure()&&f._hasCategories()?(c.y[t.yField.join("/")]||0)+(f._hasMeasure()?Math.abs(t.yValue):0):(c.y[t.yField.join("/")]||0)+(g._hasMeasure()?Math.abs(t.xValue):0),c.y[t.yField.join("/")]=i),null!==_&&(!0===b.p&&(t.pValue=t.pValueList.length),i=(c.p[t.pField.join("/")]||0)+(_._hasMeasure()?Math.abs(t.pValue):0),c.p[t.pField.join("/")]=i),null!==m&&(!0===b.z&&(t.zValue=t.zValueList.length),i=(c.z[t.zField.join("/")]||0)+(m._hasMeasure()?Math.abs(t.zValue):0),c.z[t.zField.join("/")]=i),null!==y&&((null===n.min||t.cValue<n.min)&&(n.min=t.cValue),(null===n.max||t.cValue>n.max)&&(n.max=t.cValue))},this),c.x)c.x.hasOwnProperty(s)&&(k.x+=c.x[s]);for(s in c.y)c.y.hasOwnProperty(s)&&(k.y+=c.y[s]);for(s in c.p)c.p.hasOwnProperty(s)&&(k.p+=c.p[s]);for(s in c.z)c.z.hasOwnProperty(s)&&(k.z+=c.z[s]);return x.forEach(function(l){var t,e,i,s,r=function(t,e,i){var s,r,n,a,o;null!=t&&(a=t.position,t._hasCategories()?t._hasMeasure()?(s=l[t.position+"Field"].join("/"),r=t.showPercent?c[t.position][s]/k[t.position]:c[t.position][s],-1===F.indexOf(s)&&(C[s]=r+(0<F.length?C[F[F.length-1]]:0),F.push(s)),n=l[a+"Bound"]=l["c"+a]="x"!==a&&"y"!==a||!h?r:C[s],l[i]=r,l[a]=n-("x"===a&&0<=r||"y"===a&&r<=0?r:0)):(l[a]=l["c"+a]=l[a+"Field"][0],l[i]=1,void 0!==u[a]&&null!==u[a]&&2<=u[a].length&&(l[a+"Offset"]=u[a].indexOf(l[a+"Field"][1]),l[i]=1/u[a].length)):(r=t.showPercent?l[a+"Value"]/c[e][l[e+"Field"].join("/")]:l[a+"Value"],s=l[e+"Field"].join("/")+(0<=l[a+"Value"]),o=w[a][s]=(null===w[a][s]||void 0===w[a][s]||"z"===a||"p"===a?0:w[a][s])+r,n=l[a+"Bound"]=l["c"+a]="x"!==a&&"y"!==a||!h?r:o,l[i]=r,l[a]=n-("x"===a&&0<=r||"y"===a&&r<=0?r:0)))};r(g,"y","width"),r(f,"x","height"),r(m,"z","r"),r(_,"p","angle"),null!==y&&null!==n.min&&null!==n.max&&(n.min===n.max&&(n.min-=.5,n.max+=.5),n.min=y.overrideMin||n.min,n.max=y.overrideMax||n.max,l.cValue=l.cValue>n.max?n.max:l.cValue<n.min?n.min:l.cValue,s=(i=q.scaleLinear().range([0,null===y.colors||1===y.colors.length?1:y.colors.length-1]).domain([n.min,n.max])(l.cValue))-Math.floor(i),l.cValue===n.max&&(s=1),y.colors&&1===y.colors.length?(t=q.rgb(y.colors[0]),e=q.rgb(this.getColor(l.aggField.slice(-1)[0]).fill)):y.colors&&1<y.colors.length?(t=q.rgb(y.colors[Math.floor(i)]),e=q.rgb(y.colors[Math.ceil(i)])):(t=q.rgb("white"),e=q.rgb(this.getColor(l.aggField.slice(-1)[0]).fill)),t.r=Math.floor(t.r+(e.r-t.r)*s),t.g=Math.floor(t.g+(e.g-t.g)*s),t.b=Math.floor(t.b+(e.b-t.b)*s),l.fill=t.toString(),l.stroke=t.darker(.5).toString())},this),x},this._getDelay=function(i,s,r){return function(t){var e=0;return r&&s.staggerDraw&&(r.x._hasCategories()?e=W._helpers.cx(t,s,r)/s._widthPixels()*i:r.y._hasCategories()&&(e=(1-W._helpers.cy(t,s,r)/s._heightPixels())*i)),e}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,i,s,r,n,a=t.data||this.data||[],o=[].concat(t.categoryFields||"All"),l=this._getData(a,o,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),h=[],u={},c=t.startAngle*(Math.PI/180)||0,d=(t.endAngle||360)*(Math.PI/180);if(d<c&&(c-=2*Math.PI),t.p&&0<o.length){if(t.x&&t.y){for(o.pop(),h=this._getData(a,["__dimple_placeholder__"].concat(o),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<l.length;e+=1)for((s=["__dimple_placeholder__"].concat(l[e].aggField)).pop(),t.x&&t.x._hasCategories()&&(s=s.concat(l[e].xField)),t.y&&t.y._hasCategories()&&(s=s.concat(l[e].yField)),r=s.join("|"),i=0;i<h.length;i+=1)if(n=[].concat(h[i].aggField),t.x&&t.x._hasCategories()&&(n=n.concat(h[i].xField)),t.y&&t.y._hasCategories()&&(n=n.concat(h[i].yField)),r===n.join("|")){l[e].xField=h[i].xField,l[e].xValue=h[i].xValue,l[e].xCount=h[i].xCount,l[e].yField=h[i].yField,l[e].yValue=h[i].yValue,l[e].yCount=h[i].yCount,l[e].zField=h[i].zField,l[e].zValue=h[i].zValue,l[e].zCount=h[i].zCount,l[e].x=h[i].x,l[e].y=h[i].y,l[e].r=h[i].r,l[e].xOffset=h[i].xOffset,l[e].yOffset=h[i].yOffset,l[e].width=h[i].width,l[e].height=h[i].height,l[e].cx=h[i].cx,l[e].cy=h[i].cy,l[e].xBound=h[i].xBound,l[e].yBound=h[i].yBound,l[e].xValueList=h[i].xValueList,l[e].yValueList=h[i].yValueList,l[e].zValueList=h[i].zValueList,l[e].cValueList=h[i].cValueList,l[e].pieKey=h[i].key,l[e].value=l.pValue,u[h[i].key]||(u[h[i].key]={total:0,angle:c}),u[h[i].key].total+=l[e].pValue;break}}else for(e=0;e<l.length;e+=1)l[e].pieKey="All",l[e].value=l.pValue,u[l[e].pieKey]||(u[l[e].pieKey]={total:0,angle:c}),u[l[e].pieKey].total+=l[e].pValue;for(e=0;e<l.length;e+=1)0===u[l[e].pieKey].total?l[e].piePct=0:l[e].piePct=l[e].pValue/u[l[e].pieKey].total,l[e].startAngle=u[l[e].pieKey].angle,l[e].endAngle=l[e].startAngle+l[e].piePct*(d-c),u[l[e].pieKey].angle=l[e].endAngle}t._positionData=l},this)},this._handleTransition=function(t,e,i,s){var r=null;return 0===e?r=t:(r=t.transition().duration(e).delay(i._getDelay(e,i,s)),W._ease(r,i.ease)),r},this._heightPixels=function(){return W._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(s){null!==s._eventHandlers&&0<s._eventHandlers.length&&s._eventHandlers.forEach(function(i){var t,e=function(t){var e=new W.eventArgs;null!==s.chart.storyboard&&(e.frameValue=s.chart.storyboard.getFrameValue()),e.seriesValue=t.aggField,e.xValue=t.x,e.yValue=t.y,e.zValue=t.z,e.pValue=t.p,e.colorValue=t.cValue,e.seriesShapes=s.shapes,e.selectedShape=q.select(this),i.handler(e)};if(null!==i.handler&&"function"==typeof i.handler)if(null!==s._markers&&void 0!==s._markers)for(t in s._markers)s._markers.hasOwnProperty(t)&&s._markers[t].on(i.event,e);else s.shapes.on(i.event,e)},this)},this._widthPixels=function(){return W._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return W._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return W._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,e,i,s){var r,n=null,a=null;if(null!=e&&(e=[].concat(e)),"string"==typeof t||t instanceof String)n=new W.axis(this,t,e,i,s),this.axes.push(n);else{if(a=t,(n=new W.axis(this,a.position,e,i,s))._hasMeasure()!==a._hasMeasure()?r="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":n._hasTimeField()!==a._hasTimeField()?r="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(null===n.categoryFields||void 0===n.categoryFields?0:n.categoryFields.length)!==(null===a.categoryFields||void 0===a.categoryFields?0:a.categoryFields.length)&&(r="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),r)throw r;a._slaves.push(n)}return n},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var i=this.addAxis("c",null,t);return i.colors=null==e?null:[].concat(e),i},this.addLegend=function(t,e,i,s,r,n){n=null==n?this.series:[].concat(n),r=null==r?"left":r;var a=new W.legend(this,t,e,i,s,r,n);return this.legends.push(a),a},this.addLogAxis=function(t,e,i){var s=this.addAxis(t,null,e,null);return null!=i&&(s.logBase=i),s.useLog=!0,s},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,i){var s=null;return(s=null!=i?this.addAxis(t,i,e):this.addMeasureAxis(t,e)).showPercent=!0,s},this.addSeries=function(t,e,i){null!=i||(i=this.axes),null!=e||(e=W.plot.bubble);var s,r=null,n=null,a=null,o=null,l=null;return i.forEach(function(t){null!==t&&-1<e.supportedAxes.indexOf(t.position)&&(null===r&&"x"===t.position[0]?r=t:null===n&&"y"===t.position[0]?n=t:null===a&&"z"===t.position[0]?a=t:null===o&&"c"===t.position[0]?o=t:null===o&&"p"===t.position[0]&&(l=t))},this),t&&(t=[].concat(t)),s=new W.series(this,t,r,n,a,o,l,e,W.aggregateMethod.sum,e.stacked),this.series.push(s),s},this.addTimeAxis=function(t,e,i,s){var r=this.addAxis(t,null,null,e);return r.tickFormat=s,r.dateParseFormat=i,r},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,e,i,s){return this._assignedColors[t]=new W.color(e,i,s),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new W.color("#80B1D3"),new W.color("#FB8072"),new W.color("#FDB462"),new W.color("#B3DE69"),new W.color("#FFED6F"),new W.color("#BC80BD"),new W.color("#8DD3C7"),new W.color("#CCEBC5"),new W.color("#FFFFB3"),new W.color("#BEBADA"),new W.color("#FCCDE5"),new W.color("#D9D9D9")],this.draw=function(f,t){f=f||0;var r,n,m=null,_=null,y=!1,x=!1,v=this._xPixels(),b=this._yPixels(),w=this._widthPixels(),F=this._heightPixels();return null!=t&&!1!==t||this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(s){if(s._min=0,s._max=0,n=[],s._hasMeasure()){var i=!1;this.series.forEach(function(t){if(t._deepMatch(s)){var e=t._axisBounds(s.position);s._min>e.min&&(s._min=e.min),s._max<e.max&&(s._max=e.max),i=!0}},this),i||this._getAllData().forEach(function(t){s._min>t[s.measure]&&(s._min=t[s.measure]),s._max<t[s.measure]&&(s._max=t[s.measure])},this)}else s._hasTimeField()?(s._min=null,s._max=null,this.series.forEach(function(t){t._deepMatch(s)&&null!==t[s.position].timeField&&void 0!==t[s.position].timeField&&-1===n.indexOf(t[s.position].timeField)&&n.push(t[s.position].timeField)},this),s._getAxisData().forEach(function(i){n.forEach(function(t){var e=s._parseDate(i[t]);(null===s._min||e<s._min)&&(s._min=e),(null===s._max||e>s._max)&&(s._max=e)},this)},this)):s._hasCategories()&&(s._min=0,r=[],this.series.forEach(function(t){t._deepMatch(s)&&null!==t[s.position].categoryFields[0]&&void 0!==t[s.position].categoryFields[0]&&-1===n.indexOf(t[s.position].categoryFields[0])&&n.push(t[s.position].categoryFields[0])},this),s._getAxisData().forEach(function(e){n.forEach(function(t){-1===r.indexOf(e[t])&&r.push(e[t])},this)},this),s._max=r.length);null!==s._slaves&&void 0!==s._slaves&&0<s._slaves.length&&s._slaves.forEach(function(t){t._min=s._min,t._max=s._max},this),s._update(),null===m&&"x"===s.position?m=s:null===_&&"y"===s.position&&(_=s)},this),this.axes.forEach(function(e){var i=!1,s=null,t=0,r=null,n=!1,a=0,o={l:null,t:null,r:null,b:null},l=0,h=0,u="",c=this,d=function(t){return null===s||0===f||i?t:c._handleTransition(t,f,c)},p=function(){var t=q.select(this).selectAll("text");return!e.measure&&0<e._max&&("x"===e.position?t.attr("x",w/e._max/2):"y"===e.position&&t.attr("y",F/e._max*-1/2)),e.categoryFields&&0<e.categoryFields.length&&(e!==m||null!==_.categoryFields&&0!==_.categoryFields.length||t.attr("y",b+F-_._scale(0)+9),e!==_||null!==m.categoryFields&&0!==m.categoryFields.length||t.attr("x",-1*(m._scale(0)-v)-9)),this},g=function(e){return function(){var t=q.select(this).attr("class")||"";return-1===t.indexOf(e)&&(t+=" "+e),t.trim()}};null===e.gridlineShapes?(e.showGridlines||null===e.showGridlines&&!e._hasCategories()&&(!y&&"x"===e.position||!x&&"y"===e.position))&&(
e.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),"x"===e.position?y=!0:x=!0):"x"===e.position?y=!0:x=!0,null===e.shapes&&(e.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+e.position).each(function(){c.noFormats||q.select(this).style("font-family",e.fontFamily).style("font-size",e._getFontSize())}),i=!0),e===m&&null!==_?(s="translate(0, "+(null===_.categoryFields||0===_.categoryFields.length?_._scale(0):b+F)+")",r="translate(0, "+(e===m?b+F:b)+")",t=-F):e===_&&null!==m?(s="translate("+(null===m.categoryFields||0===m.categoryFields.length?m._scale(0):v)+", 0)",r="translate("+(e===_?v:v+w)+", 0)",t=-w):"x"===e.position?(r=s="translate(0, "+(e===m?b+F:b)+")",t=-F):"y"===e.position&&(r=s="translate("+(e===_?v:v+w)+", 0)",t=-w),null!==s&&null!==e._draw&&(e._hasTimeField()?d(e.shapes).call(e._draw.ticks(e._getTimePeriod(),e.timeInterval).tickFormat(e._getFormat())).attr("transform",s).each(p):e.useLog?d(e.shapes).call(e._draw.ticks(4,e._getFormat())).attr("transform",s).each(p):d(e.shapes).call(e._draw.tickFormat(e._getFormat())).attr("transform",s).each(p),null!==e.gridlineShapes&&d(e.gridlineShapes).call(e._draw.tickSize(t,0,0).tickFormat("")).attr("transform",r)),d(e.shapes.selectAll("text")).attr("class",g(c.customClassList.axisLabel)).call(function(t){c.noFormats||t.style("font-family",e.fontFamily).style("font-size",e._getFontSize())}),d(e.shapes.selectAll("path, line")).attr("class",g(c.customClassList.axisLine)).call(function(t){c.noFormats||t.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==e.gridlineShapes&&(e.gridlineShapes.selectAll("path").remove(),d(e.gridlineShapes.selectAll("line")).attr("class",g(c.customClassList.gridline)).call(function(t){c.noFormats||t.style("fill","none").style("stroke","lightgray").style("opacity",.8)})),null!==e.measure&&void 0!==e.measure||(e.autoRotateLabel?e===m?(a=0,e.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();a=a<t?t:a}),a>w/e.shapes.selectAll("text").nodes().length?(n=!0,e.shapes.selectAll("text").style("text-anchor","start").each(function(){var t=this.getBBox();q.select(this).attr("transform","rotate(90,"+t.x+","+(t.y+t.height/2)+") translate(-5, 0)")})):(n=!1,e.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===e.position&&(a=0,e.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();a=a<t?t:a}),a>w/e.shapes.selectAll("text").nodes().length?(n=!0,e.shapes.selectAll("text").style("text-anchor","end").each(function(){var t=this.getBBox();q.select(this).attr("transform","rotate(90,"+(t.x+t.width)+","+(t.y+t.height/2)+") translate(5, 0)")})):(n=!1,e.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(n=!1,e.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==e.titleShape&&void 0!==e.titleShape&&e.titleShape.remove(),e.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===o.l||-9-t.width<o.l)&&(o.l=-9-t.width),(null===o.r||t.x+t.width>o.r)&&(o.r=t.x+t.width),n?((null===o.t||t.y+t.height-t.width<o.t)&&(o.t=t.y+t.height-t.width),(null===o.b||t.height+t.width>o.b)&&(o.b=t.height+t.width)):((null===o.t||t.y<o.t)&&(o.t=t.y),(null===o.b||9+t.height>o.b)&&(o.b=9+t.height))}),"x"===e.position?(h=e===m?b+F+o.b+5:b+o.t-10,l=v+w/2):"y"===e.position&&(u="rotate(270, "+(l=e===_?v+o.l-10:v+w+o.r+20)+", "+(h=b+F/2)+")"),e.hidden||"x"!==e.position&&"y"!==e.position||null===e.title||(e.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+c.customClassList.axisTitle+" dimple-axis-"+e.position),e.titleShape.attr("x",l).attr("y",h).attr("text-anchor","middle").attr("transform",u).text(void 0!==e.title?e.title:null===e.categoryFields||void 0===e.categoryFields||0===e.categoryFields.length?e.measure:e.categoryFields.join("/")).each(function(){c.noFormats||q.select(this).style("font-family",e.fontFamily).style("font-size",e._getFontSize())}),e===m?e.titleShape.each(function(){q.select(this).attr("y",h+this.getBBox().height/1.65)}):e===_&&e.titleShape.each(function(){q.select(this).attr("x",l+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,f),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return null!==this._assignedColors[t]&&void 0!==this._assignedColors[t]||(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this._xPixels=function(){return W._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return W._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return W._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return W._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,e,i,s){return this.x=t,this.y=e,this.width=0,this.height=0,this._xPixels=function(){return W._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return W._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return W._parentWidth(this.svg.node())-this._xPixels()-W._parseXPosition(i,this.svg.node())},this._heightPixels=function(){return W._parentHeight(this.svg.node())-this._yPixels()-W._parseYPosition(s,this.svg.node())},this},this.setStoryboard=function(t,e){return this.storyboard=new W.storyboard(this,t),null!=e&&(this.storyboard.onTick=e),this.storyboard}},color:function(t,e,i){this.fill=t,this.stroke=null==e?q.rgb(t).darker(.5).toString():e,this.opacity=null==i?.8:i},eventArgs:function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},legend:function(t,e,i,s,r,n,a){this.chart=t,this.series=a,this.x=e,this.y=i,this.width=s,this.height=r,this.horizontalAlign=n,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var t,e=this._getEntries(),i=0,s=0,r=0,n=0,a=15,o=9,l=5,h=this;this.shapes&&this.shapes.remove(),(t=this.chart._group.selectAll(".dimple-dont-select-any").data(e).enter().append("g").attr("class",function(t){return"dimple-legend "+W._createClass(t.aggField)}).attr("opacity",1)).append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+W._createClass(t.aggField)+" "+h.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(t){h.chart.noFormats||t.style("font-family",h.fontFamily).style("font-size",h._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>i&&(i=t.width),t.height>s&&(s=t.height)}),t.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+W._createClass(t.aggField)}).attr("height",o).attr("width",a),s=(s<o?o:s)+h._getVerticalPadding(),i+=a+h._getHorizontalPadding(),t.each(function(e){r+i>h._widthPixels()&&(r=0,n+=s),n>h._heightPixels()?q.select(this).remove():(q.select(this).select("text").attr("x","left"===h.horizontalAlign?h._xPixels()+a+l+r:h._xPixels()+(h._widthPixels()-r-i)+a+l).attr("y",function(){return h._yPixels()+n+this.getBBox().height/1.65}).attr("width",h._widthPixels()).attr("height",h._heightPixels()),q.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+W._createClass(t.aggField)+" "+h.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===h.horizontalAlign?h._xPixels()+r:h._xPixels()+(h._widthPixels()-r-i)).attr("y",h._yPixels()+n).attr("height",o).attr("width",a).call(function(t){h.chart.noFormats||t.style("fill",e.fill).style("stroke",e.stroke).style("opacity",e.opacity).style("shape-rendering","crispEdges")}),r+=i)}),this.shapes=t},this._getEntries=function(){var n=[];return this.series&&this.series.forEach(function(r){r._positionData.forEach(function(t){var e,i=-1,s=r.plot.grouped&&!r.x._hasCategories()&&!r.y._hasCategories()&&t.aggField.length<2?"All":t.aggField.slice(-1)[0];for(e=0;e<n.length;e+=1)if(n[e].key===s){i=e;break}-1===i&&r.chart._assignedColors[s]&&(n.push({key:s,fill:r.chart._assignedColors[s].fill,stroke:r.chart._assignedColors[s].stroke,opacity:r.chart._assignedColors[s].opacity,css:r.chart._assignedClasses[s],series:r,aggField:t.aggField}),i=n.length-1)})},this),n},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(10<this.chart._heightPixels()/35?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){return isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){return isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return W._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return W._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return W._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return W._parseYPosition(this.y,this.chart.svg.node())}},series:function(t,e,i,s,r,n,a,o,l,h){this.chart=t,this.x=i,this.y=s,this.z=r,this.c=n,this.p=a,this.plot=o,this.categoryFields=e,this.aggregate=l,this.stacked=h,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=t._group.append("g"),this._group.attr("class","dimple-series-group-"+t.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var s,r,n,e={min:0,max:0},i=null,a=null,o=[],l=0,h=this._positionData;return"x"===t?(i=this.x,a=this.y):"y"===t?(i=this.y,a=this.x):"z"===t?i=this.z:"p"===t?i=this.p:"c"===t&&(i=this.c),i.showPercent?h.forEach(function(t){t[i.position+"Bound"]<e.min&&(e.min=t[i.position+"Bound"]),t[i.position+"Bound"]>e.max&&(e.max=t[i.position+"Bound"])},this):null===a||null===a.categoryFields||0===a.categoryFields.length?h.forEach(function(t){!this._isStacked()||"x"!==i.position&&"y"!==i.position?(t[i.position+"Value"]<e.min&&(e.min=t[i.position+"Value"]),t[i.position+"Value"]>e.max&&(e.max=t[i.position+"Value"])):t[i.position+"Value"]<0?e.min=e.min+t[i.position+"Value"]:e.max=e.max+t[i.position+"Value"]},this):(s=i.position+"Value",r=a.position+"Field",n=[],h.forEach(function(t){var e=t[r].join("/"),i=n.indexOf(e);-1===i&&(n.push(e),i=n.length-1),void 0===o[i]&&(o[i]={min:0,max:0},l<=i&&(l=i+1)),this.stacked?t[s]<0?o[i].min=o[i].min+t[s]:o[i].max=o[i].max+t[s]:(t[s]<o[i].min&&(o[i].min=t[s]),t[s]>o[i].max&&(o[i].max=t[s]))},this),o.forEach(function(t){void 0!==t&&(t.min<e.min&&(e.min=t.min),t.max>e.max&&(e.max=t.max))},this)),e},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&0<t._slaves.length&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var e=0,i=0,s={x:null,y:null},r={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===r.x?t._hasTimeField()?r.x=this.chart._xPixels():r.x=t._origin:"y"===t.position&&null===r.y&&(t._hasTimeField()?r.y=this.chart._yPixels()+this.chart._heightPixels():r.y=t._origin)},this),this.chart.axes.forEach(function(t){"x"!==t.position||this.x.hidden?"y"!==t.position||this.y.hidden||(this._deepMatch(t)&&(0===i?s.x=r.x:1===i&&(s.x=this.chart._xPixels()+this.chart._widthPixels())),i+=1):(this._deepMatch(t)&&(0===e?s.y=r.y:1===e&&(s.y=this.chart._yPixels())),e+=1)},this),s},this._getTooltipFontSize=function(){return this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(10<this.chart._heightPixels()/35?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(i){var s=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&0<this.categoryFields.length&&this.categoryFields.forEach(function(t,e){null!=t&&null!==i.aggField[e]&&void 0!==i.aggField[e]&&s.push(t+(i.aggField[e]!==t?": "+i.aggField[e]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(s,i),this.y&&this.y._hasCategories()&&this.y._getTooltipText(s,i),this.z&&this.z._hasCategories()&&this.z._getTooltipText(s,i),this.p._getTooltipText(s,i)):(this.x&&this.x._getTooltipText(s,i),this.y&&this.y._getTooltipText(s,i),this.z&&this.z._getTooltipText(s,i)),this.c&&this.c._getTooltipText(s,i),s.filter(function(t,e){return s.indexOf(t)===e})}},storyboard:function(s,t){null!=t&&(t=[].concat(t)),this.chart=s,this.categoryFields=t,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var e=this,i=0;e.storyLabel||(e.chart.axes.forEach(function(t){"x"===t.position&&(i+=1)},e),e.storyLabel=e.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",e.chart._xPixels()+.01*e.chart._widthPixels()).attr("y",e.chart._yPixels()+(10<e.chart._heightPixels()/35?e.chart._heightPixels()/35:10)*(1<i?1.25:-1)).call(function(t){s.noFormats||t.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})),e.storyLabel.text(e.categoryFields.join("\\")+": "+e.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(i){var s="";null!==this.categoryFields&&(this.categoryFields.forEach(function(t,e){0<e&&(s+="/"),s+=i[t]},this),-1===this._categories.indexOf(s)&&(this._categories.push(s),this._categories.length))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(10<this.chart._heightPixels()/35?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return 0<=this._frame&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(0<this._getCategories().length){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){var t;null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval((t=this,function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}}};return W.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},W.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},W.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},W.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},W.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},W.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(s,r,i){var t,e,n,a,o,l,h,u,c,d,p,g,f,m,_,y,x,v,b,w,F,C,k,P,S=r._positionData,M=[],A=null,T="dimple-series-"+s.series.indexOf(r),E=r.x._hasCategories()||r.y._hasCategories()?0:1,O=!1,L={},B=[],V=[],z=function(){return function(t,e,i,s){q.select(e).style("opacity",1),W._showPointTooltip(t,e,i,s)}},D=function(r){return function(t,e,i,s){q.select(e).style("opacity",s.lineMarkers||r.data.length<2?W._helpers.opacity(t,i,s):0),W._removeTooltip(t,e,i,s)}},R=function(t,e){W._drawMarkers(t,s,r,i,T,O,z(t),D(t),e)},I=function(t,e){var i;return"step"===r.interpolation&&r[t]._hasCategories()?(i=W._helpers[t](e,s,r)+("y"===t?W._helpers.height(e,s,r):0),r[t].categoryFields.length<2&&(i+=("y"===t?1:-1)*W._helpers[t+"Gap"](s,r))):i=W._helpers["c"+t](e,s,r),parseFloat(i)},j=function(t,e){var i=q.line().x(function(t){return r.x._hasCategories()||!e?t.x:r.x[e]}).y(function(t){return r.y._hasCategories()||!e?t.y:r.y[e]});return W._interpolate(i,t),i},$=function(t,e){return parseFloat(t)-parseFloat(e)},N=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},G=function(t,e,i){var s,r,n=e[e.length-1],a=9999,o=n;for(s=0;s<t.length;s+=1)t[s].x===n.x&&t[s].y===n.y||i<(r=180-Math.atan2(t[s].x-n.x,t[s].y-n.y)*(180/Math.PI))&&r<a&&(o=t[s],a=r);return e.push(o),a};for(t="step"===r.interpolation?"step-after":r.interpolation,p=W._getSeriesOrder(r.data||s.data,r),r.c&&(r.x._hasCategories()&&r.y._hasMeasure()||r.y._hasCategories()&&r.x._hasMeasure())&&(O=!0),r.x._hasCategories()?(k="x",P="y"):r.y._hasCategories()&&(k="y",P="x"),e=0;e<S.length;e+=1){for(o=[],h=-1,a=E;a<S[e].aggField.length;a+=1)o.push(S[e].aggField[a]);for(l=W._createClass(o),a=0;a<M.length;a+=1)if(M[a].keyString===l){h=a;break}-1===h&&(h=M.length,M.push({key:o,keyString:l,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:k&&S[e][k+"Field"]&&2<=S[e][k+"Field"].length?S[e][k+"Field"][0]:"All"})),M[h].data.push(S[e])}for(p&&M.sort(function(t,e){return W._arrayIndexCompare(p,t.key,e.key)}),e=0;e<M.length;e+=1){for(M[e].data.sort(W._getSeriesSortPredicate(s,r,p)),n=0;n<M[e].data.length;n+=1)M[e].points.push({x:I("x",M[e].data[n]),y:I("y",M[e].data[n])}),k&&(L[M[e].group]||(L[M[e].group]={}),L[M[e].group][M[e].points[M[e].points.length-1][k]]=r[P]._origin);g=M[e].points,"step"===r.interpolation&&1<g.length&&k&&(r.x._hasCategories()?(g.push({x:2*g[g.length-1].x-g[g.length-2].x,y:g[g.length-1].y}),L[M[e].group][g[g.length-1][k]]=r[P]._origin):r.y._hasCategories()&&(g=[{x:g[0].x,y:2*g[0].y-g[1].y}].concat(g),L[M[e].group][g[0][k]]=r[P]._origin,M[e].points=g))}for(_ in L)if(L.hasOwnProperty(_)){for(y in B[_]=[],L[_])L[_].hasOwnProperty(y)&&B[_].push(parseFloat(y));B[_].sort($)}for(e=0;e<M.length;e+=1){if(g=M[e].points,x=M[e].group,f=[],V=[],O&&W._addGradient(M[e].key,"fill-area-gradient-"+M[e].keyString,r.x._hasCategories()?r.x:r.y,S,s,i,"fill"),B[x]&&0<B[x].length)for(a=n=0;n<B[x].length;n+=1)B[x][n]>=g[0][k]&&B[x][n]<=g[g.length-1][k]&&((m={})[k]=B[x][n],m[P]=L[x][B[x][n]],f.push(m),g[a][k]>B[x][n]?V.push(m):(V.push(g[a]),L[M[e].group][B[x][n]]=g[a][P],a+=1));else if(r._orderRules&&0<r._orderRules.length)V=g.concat(g[0]);else for(g=g.sort(N),V.push(g[0]),C=0;C=G(g,V,C),V.length<=g.length&&(V[0].x!==V[V.length-1].x||V[0].y!==V[V.length-1].y););f=f.reverse(),v=j(t,"_previousOrigin")(V),b=j("step-after"===t?"step-before":"step-before"===t?"step-after":t,"_previousOrigin")(f),F=-1===(w=j("linear","_previousOrigin")(V)).indexOf("L")?void 0:w.indexOf("L"),M[e].entry=v+(b&&0<b.length?"L"+b.substring(1):"")+(w&&0<w.length?"L"+w.substring(1,F):0),v=j(t)(V),b=j("step-after"===t?"step-before":"step-before"===t?"step-after":t)(f),F=-1===(w=j("linear")(V)).indexOf("L")?void 0:w.indexOf("L"),M[e].update=v+(b&&0<b.length?"L"+b.substring(1):"")+(w&&0<w.length?"L"+w.substring(1,F):0),v=j(t,"_origin")(V),b=j("step-after"===t?"step-before":"step-before"===t?"step-after":t,"_origin")(f),F=-1===(w=j("linear","_origin")(V)).indexOf("L")?void 0:w.indexOf("L"),M[e].exit=v+(b&&0<b.length?"L"+b.substring(1):"")+(w&&0<w.length?"L"+w.substring(1,F):0),M[e].color=s.getColor(0<M[e].key.length?M[e].key[M[e].key.length-1]:"All"),M[e].css=s.getClass(0<M[e].key.length?M[e].key[M[e].key.length-1]:"All")}s._tooltipGroup&&s._tooltipGroup.remove(),u=(A=r.shapes?r.shapes.data(M,function(t){return t.key}):r._group.selectAll("."+T).data(M,function(t){return t.key})).enter().append("path").attr("id",function(t){return W._createClass([t.key])}).attr("class",function(t){return T+" dimple-line "+t.keyString+" "+s.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(t){s.noFormats||t.attr("opacity",function(t){return O?1:t.color.opacity}).style("fill",function(t){return O?"url(#"+W._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return O?"url(#"+W._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",r.lineWeight)}).each(function(t){t.markerData=t.data,R(t,this)}),c=s._handleTransition(A.merge(u),i,s).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,R(t,this)}),d=s._handleTransition(A.exit(),i,s).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],R(t,this)}),W._postDrawHandling(r,c,d,i),r.shapes=r._group.selectAll("."+T)}},W.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(i,s,t){var e,r,n,a=s._positionData,o=null,l=["dimple-series-"+i.series.indexOf(s),"dimple-bar"],h=!s._isStacked()&&s.x._hasMeasure(),u=!s._isStacked()&&s.y._hasMeasure(),c="none";s.x._hasCategories()&&s.y._hasCategories()?c="both":s.x._hasCategories()?c="x":s.y._hasCategories()&&(c="y"),i._tooltipGroup&&i._tooltipGroup.remove(),e=(o=s.shapes?s.shapes.data(a,function(t){return t.key}):s._group.selectAll("."+l.join(".")).data(a,function(t){return t.key})).enter().append("rect").attr("id",function(t){return W._createClass([t.key])}).attr("class",function(t){var e=[];return e=(e=(e=e.concat(t.aggField)).concat(t.xField)).concat(t.yField),l.join(" ")+" "+W._createClass(e)+" "+i.customClassList.barSeries+" "+W._helpers.css(t,i)}).attr("x",function(t){var e=s.x._previousOrigin;return"x"===c?e=W._helpers.x(t,i,s):"both"===c&&(e=W._helpers.cx(t,i,s)),e}).attr("y",function(t){var e=s.y._previousOrigin;return"y"===c?e=W._helpers.y(t,i,s):"both"===c&&(e=W._helpers.cy(t,i,s)),e}).attr("width",function(t){return"x"===c?W._helpers.width(t,i,s):0}).attr("height",function(t){return"y"===c?W._helpers.height(t,i,s):0}).on("mouseover",function(t){W._showBarTooltip(t,this,i,s)}).on("mouseleave",function(t){W._removeTooltip(t,this,i,s)}).call(function(t){i.noFormats||t.attr("opacity",function(t){return W._helpers.opacity(t,i,s)}).style("fill",function(t){return W._helpers.fill(t,i,s)}).style("stroke",function(t){return W._helpers.stroke(t,i,s)})}),r=i._handleTransition(o.merge(e),t,i,s).attr("x",function(t){return h?W._helpers.cx(t,i,s)-s.x.floatingBarWidth/2:W._helpers.x(t,i,s)}).attr("y",function(t){return u?W._helpers.cy(t,i,s)-s.y.floatingBarWidth/2:W._helpers.y(t,i,s)}).attr("width",function(t){return h?s.x.floatingBarWidth:W._helpers.width(t,i,s)}).attr("height",function(t){return u?s.y.floatingBarWidth:W._helpers.height(t,i,s)}).call(function(t){i.noFormats||t.attr("fill",function(t){return W._helpers.fill(t,i,s)}).attr("stroke",function(t){return W._helpers.stroke(t,i,s)})}),n=i._handleTransition(o.exit(),t,i,s).attr("x",function(t){var e=s.x._origin;return"x"===c?e=W._helpers.x(t,i,s):"both"===c&&(e=W._helpers.cx(t,i,s)),e}).attr("y",function(t){var e=s.y._origin;return"y"===c?e=W._helpers.y(t,i,s):"both"===c&&(e=W._helpers.cy(t,i,s)),e}).attr("width",function(t){return"x"===c?W._helpers.width(t,i,s):0}).attr("height",function(t){return"y"===c?W._helpers.height(t,i,s):0}),W._postDrawHandling(s,r,n,t),s.shapes=s._group.selectAll("."+l.join("."))}},W.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(i,e,t){var s,r,n,a=e._positionData,o=null,l=["dimple-series-"+i.series.indexOf(e),"dimple-bubble"];i._tooltipGroup&&i._tooltipGroup.remove(),s=(o=e.shapes?e.shapes.data(a,function(t){return t.key}):e._group.selectAll("."+l.join(".")).data(a,function(t){return t.key})).enter().append("circle").attr("id",function(t){return W._createClass([t.key])}).attr("class",function(t){var e=[];return e=(e=(e=(e=e.concat(t.aggField)).concat(t.xField)).concat(t.yField)).concat(t.zField),l.join(" ")+" "+W._createClass(e)+" "+i.customClassList.bubbleSeries+" "+W._helpers.css(t,i)}).attr("cx",function(t){return e.x._hasCategories()?W._helpers.cx(t,i,e):e.x._previousOrigin}).attr("cy",function(t){return e.y._hasCategories()?W._helpers.cy(t,i,e):e.y._previousOrigin}).attr("r",0).on("mouseover",function(t){W._showPointTooltip(t,this,i,e)}).on("mouseleave",function(t){W._removeTooltip(t,this,i,e)}).call(function(t){i.noFormats||t.attr("opacity",function(t){return W._helpers.opacity(t,i,e)}).style("fill",function(t){return W._helpers.fill(t,i,e)}).style("stroke",function(t){return W._helpers.stroke(t,i,e)})}),r=i._handleTransition(o.merge(s),t,i,e).attr("cx",function(t){return W._helpers.cx(t,i,e)}).attr("cy",function(t){return W._helpers.cy(t,i,e)}).attr("r",function(t){return W._helpers.r(t,i,e)}).call(function(t){i.noFormats||t.attr("fill",function(t){return W._helpers.fill(t,i,e)}).attr("stroke",function(t){return W._helpers.stroke(t,i,e)})}),n=i._handleTransition(o.exit(),t,i,e).attr("r",0).attr("cx",function(t){return e.x._hasCategories()?W._helpers.cx(t,i,e):e.x._origin}).attr("cy",function(t){return e.y._hasCategories()?W._helpers.cy(t,i,e):e.y._origin}),W._postDrawHandling(e,r,n,t),e.shapes=e._group.selectAll("."+l.join("."))}},W.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(s,r,i){var t,e,n,a,o,l,h,u,c,d,p,g=r._positionData,f=[],m=null,_="dimple-series-"+s.series.indexOf(r),y=r.x._hasCategories()||r.y._hasCategories()?0:1,x=!1,v=function(){return function(t,e,i,s){q.select(e).style("opacity",1),W._showPointTooltip(t,e,i,s)}},b=function(r){return function(t,e,i,s){q.select(e).style("opacity",s.lineMarkers||r.data.length<2?W._helpers.opacity(t,i,s):0),W._removeTooltip(t,e,i,s)}},w=function(t,e){W._drawMarkers(t,s,r,i,_,x,v(t),b(t),e)},F=function(t,e){var i;return"step"===r.interpolation&&r[t]._hasCategories()?(r.barGap=0,r.clusterBarGap=0,i=W._helpers[t](e,s,r)+("y"===t?W._helpers.height(e,s,r):0)):i=W._helpers["c"+t](e,s,r),parseFloat(i.toFixed(1))},C=function(t,e){var i=q.line().x(function(t){return r.x._hasCategories()||!e?t.x:r.x[e]}).y(function(t){return r.y._hasCategories()||!e?t.y:r.y[e]});return W._interpolate(i,t),i};for(t="step"===r.interpolation?"step-after":r.interpolation,p=W._getSeriesOrder(r.data||s.data,r),r.c&&(r.x._hasCategories()&&r.y._hasMeasure()||r.y._hasCategories()&&r.x._hasMeasure())&&(x=!0),e=0;e<g.length;e+=1){for(o=[],h=-1,a=y;a<g[e].aggField.length;a+=1)o.push(g[e].aggField[a]);for(l=W._createClass(o),a=0;a<f.length;a+=1)if(f[a].keyString===l){h=a;break}-1===h&&(h=f.length,f.push({key:o,keyString:l,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),f[h].data.push(g[e])}for(p&&f.sort(function(t,e){return W._arrayIndexCompare(p,t.key,e.key)}),e=0;e<f.length;e+=1){for(f[e].data.sort(W._getSeriesSortPredicate(s,r,p)),x&&W._addGradient(f[e].key,"fill-line-gradient-"+f[e].keyString,r.x._hasCategories()?r.x:r.y,g,s,i,"fill"),n=0;n<f[e].data.length;n+=1)f[e].points.push({x:F("x",f[e].data[n]),y:F("y",f[e].data[n])});"step"===r.interpolation&&1<f[e].points.length&&(r.x._hasCategories()?f[e].points.push({x:2*f[e].points[f[e].points.length-1].x-f[e].points[f[e].points.length-2].x,y:f[e].points[f[e].points.length-1].y}):r.y._hasCategories()&&(f[e].points=[{x:f[e].points[0].x,y:2*f[e].points[0].y-f[e].points[1].y}].concat(f[e].points))),f&&f[e]&&f[e].points&&1===f[e].points.length&&f[e].points.push({x:f[e].points[0].x,y:f[e].points[0].y}),f[e].entry=C(t,"_previousOrigin")(f[e].points),f[e].update=C(t)(f[e].points),f[e].exit=C(t,"_origin")(f[e].points),f[e].color=s.getColor(0<f[e].key.length?f[e].key[f[e].key.length-1]:"All"),f[e].css=s.getClass(0<f[e].key.length?f[e].key[f[e].key.length-1]:"All")}s._tooltipGroup&&s._tooltipGroup.remove(),u=(m=r.shapes?r.shapes.data(f,function(t){return t.key}):r._group.selectAll("."+_).data(f,function(t){return t.key})).enter().append("path").attr("id",function(t){return W._createClass([t.key])}).attr("class",function(t){return _+" dimple-line "+t.keyString+" "+s.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(t){s.noFormats||t.attr("opacity",function(t){return x?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return x?"url(#"+W._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",r.lineWeight)}).each(function(t){t.markerData=t.data,w(t,this)}),c=s._handleTransition(m.merge(u),i,s).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,w(t,this)}),d=s._handleTransition(m.exit(),i,s).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],w(t,this)}),W._postDrawHandling(r,c,d,i),r.shapes=r._group.selectAll("."+_)}},W.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(r,n,e){var t,i,s,a=n._positionData,o=null,l=["dimple-series-"+r.series.indexOf(n),"dimple-pie"],h=function(t){return n.x&&n.y?W._helpers.r(t,r,n):r._widthPixels()<r._heightPixels()?r._widthPixels()/2:r._heightPixels()/2},u=function(t){var e=h(t);return n.outerRadius&&(e=W._parsePosition(n.outerRadius,e)),Math.max(e,0)},c=function(t){var e=0;return n.innerRadius&&(e=W._parsePosition(n.innerRadius,h(t))),Math.max(e,0)},d=function(t){return q.arc().innerRadius(c(t)).outerRadius(u(t))(t)},p=function(t){t.innerRadius=c(t),t.outerRadius=u(t);var e,i=q.interpolate(this._current,t);return e=q.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=i(0),function(t){return e(i(t))}},g=function(s){return function(t){var e,i;return n.x&&n.y?(e=!s||n.x._hasCategories()?W._helpers.cx(t,r,n):n.x._previousOrigin,i=!s||n.y._hasCategories()?W._helpers.cy(t,r,n):n.y._previousOrigin):(e=r._xPixels()+r._widthPixels()/2,i=r._yPixels()+r._heightPixels()/2),"translate("+e+","+i+")"}};r._tooltipGroup&&r._tooltipGroup.remove(),t=(o=n.shapes?n.shapes.data(a,function(t){return t.key}):n._group.selectAll("."+l.join(".")).data(a,function(t){return t.key})).enter().append("path").attr("id",function(t){return W._createClass([t.key])}).attr("class",function(t){var e=[];return e=(e=e.concat(t.aggField)).concat(t.pField),l.join(" ")+" "+W._createClass(e)+" "+r.customClassList.pieSeries+" "+W._helpers.css(t,r)}).attr("d",d).on("mouseover",function(t){W._showBarTooltip(t,this,r,n)}).on("mouseleave",function(t){W._removeTooltip(t,this,r,n)}).call(function(t){r.noFormats||t.attr("opacity",function(t){return W._helpers.opacity(t,r,n)}).style("fill",function(t){return W._helpers.fill(t,r,n)}).style("stroke",function(t){return W._helpers.stroke(t,r,n)})}).attr("transform",g(!0)).each(function(t){(this._current=t).innerRadius=c(t),t.outerRadius=u(t)}),i=r._handleTransition(o.merge(t),e,r,n).call(function(t){e&&0<e?t.attrTween("d",p):t.attr("d",d),r.noFormats||t.attr("fill",function(t){return W._helpers.fill(t,r,n)}).attr("stroke",function(t){return W._helpers.stroke(t,r,n)})}).attr("transform",g(!1)),s=r._handleTransition(o.exit(),e,r,n).attr("transform",g(!0)).attr("d",d),W._postDrawHandling(n,i,s,e),n.shapes=n._group.selectAll("."+l.join("."))}},W._addGradient=function(t,e,i,r,s,n,a){var o=[].concat(t),l=s.svg.select("#"+W._createClass([e])),h=[],
u=i.position+"Field",c=!0,d=[];r.forEach(function(t){-1===h.indexOf(t[u])&&t.aggField.join("_")===o.join("_")&&h.push(t[u])},this),h=h.sort(function(t,e){return i._scale(t)-i._scale(e)}),null===l.node()&&(c=!1,l=s.svg.append("defs").append("linearGradient").attr("id",W._createClass([e])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===i.position?i._scale(h[0])+s._widthPixels()/h.length/2:0).attr("y1","y"===i.position?i._scale(h[0])-s._heightPixels()/h.length/2:0).attr("x2","x"===i.position?i._scale(h[h.length-1])+s._widthPixels()/h.length/2:0).attr("y2","y"===i.position?i._scale(h[h.length-1])-s._heightPixels()/h.length/2:0)),h.forEach(function(t,e){var i={},s=0;for(s=0;s<r.length;s+=1)if(r[s].aggField.join("_")===o.join("_")&&r[s][u].join("_")===t.join("_")){i=r[s];break}d.push({offset:Math.round(e/(h.length-1)*100)+"%",color:i[a]})},this),c?s._handleTransition(l.selectAll("stop").data(d),n,s).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):l.selectAll("stop").data(d).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},W._arrayIndexCompare=function(t,e,i){var s,r,n,a,o,l;for(r=0;r<t.length;r+=1){for(o=a=!0,l=[].concat(t[r]),n=0;n<e.length;n+=1)a=a&&e[n]===l[n];for(n=0;n<i.length;n+=1)o=o&&i[n]===l[n];if(a||o){s=a&&o?0:a?-1:1;break}}return s},W._createClass=function(t){var e,i,s=[];if(i=function(t){var e=t.charCodeAt(0),i="-";return 65<=e&&e<=90&&(i=t.toLowerCase()),i},0<t.length)for(e=0;e<t.length;e+=1)t[e]&&s.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,i));else s=["dimple-all"];return s.join(" ")},W._drawMarkerBacks=function(t,e,i,s,r,n){var a,o,l,h=["dimple-marker-back",r,t.keyString];i.lineMarkers&&(a=null===i._markerBacks||void 0===i._markerBacks||void 0===i._markerBacks[t.keyString]?i._group.selectAll("."+h.join(".")).data(t.markerData):i._markerBacks[t.keyString].data(t.markerData,function(t){return t.key}),(l=n.nextSibling&&n.nextSibling.id?a.enter().insert("circle","#"+n.nextSibling.id):a.enter().append("circle")).attr("id",function(t){return W._createClass([t.key+" Marker Back"])}).attr("class",function(t){var e=[];return i.x._hasCategories()&&(e=e.concat(t.xField)),i.y._hasCategories()&&(e=e.concat(t.yField)),W._createClass(e)+" "+h.join(" ")}).attr("cx",function(t){return i.x._hasCategories()?W._helpers.cx(t,e,i):i.x._previousOrigin}).attr("cy",function(t){return i.y._hasCategories()?W._helpers.cy(t,e,i):i.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),e._handleTransition(a.merge(l),s,e).attr("cx",function(t){return W._helpers.cx(t,e,i)}).attr("cy",function(t){return W._helpers.cy(t,e,i)}).attr("r",2+i.lineWeight),o=e._handleTransition(a.exit(),s,e).attr("cx",function(t){return i.x._hasCategories()?W._helpers.cx(t,e,i):i.x._origin}).attr("cy",function(t){return i.y._hasCategories()?W._helpers.cy(t,e,i):i.y._origin}).attr("r",0),0===s?o.remove():o.each("end",function(){q.select(this).remove()}),void 0!==i._markerBacks&&null!==i._markerBacks||(i._markerBacks={}),i._markerBacks[t.keyString]=a)},W._drawMarkers=function(e,s,r,t,i,n,a,o,l){var h,u,c,d=["dimple-marker",i,e.keyString];h=null===r._markers||void 0===r._markers||void 0===r._markers[e.keyString]?r._group.selectAll("."+d.join(".")).data(e.markerData):r._markers[e.keyString].data(e.markerData,function(t){return t.key}),(c=l.nextSibling&&l.nextSibling.id?h.enter().insert("circle","#"+l.nextSibling.id):h.enter().append("circle")).attr("id",function(t){return W._createClass([t.key+" Marker"])}).attr("class",function(t){var e=[],i=s.getClass(0<t.aggField.length?t.aggField[t.aggField.length-1]:"All");return r.x._hasCategories()&&(e=e.concat(t.xField)),r.y._hasCategories()&&(e=e.concat(t.yField)),W._createClass(e)+" "+d.join(" ")+" "+s.customClassList.lineMarker+" "+i}).on("mouseover",function(t){a(t,this,s,r)}).on("mouseleave",function(t){o(t,this,s,r)}).attr("cx",function(t){return r.x._hasCategories()?W._helpers.cx(t,s,r):r.x._previousOrigin}).attr("cy",function(t){return r.y._hasCategories()?W._helpers.cy(t,s,r):r.y._previousOrigin}).attr("r",0).attr("opacity",r.lineMarkers||e.data.length<2?e.color.opacity:0).call(function(t){s.noFormats||t.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return n?W._helpers.fill(t,s,r):e.color.stroke})}),s._handleTransition(h.merge(c),t,s).attr("cx",function(t){return W._helpers.cx(t,s,r)}).attr("cy",function(t){return W._helpers.cy(t,s,r)}).attr("r",2+r.lineWeight).attr("opacity",r.lineMarkers||e.data.length<2?e.color.opacity:0).call(function(t){s.noFormats||t.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return n?W._helpers.fill(t,s,r):e.color.stroke})}),u=s._handleTransition(h.exit(),t,s).attr("cx",function(t){return r.x._hasCategories()?W._helpers.cx(t,s,r):r.x._origin}).attr("cy",function(t){return r.y._hasCategories()?W._helpers.cy(t,s,r):r.y._origin}).attr("r",0),0===t?u.remove():u.each("end",function(){q.select(this).remove()}),void 0!==r._markers&&null!==r._markers||(r._markers={}),r._markers[e.keyString]=h,W._drawMarkerBacks(e,s,r,t,i,l)},W._ease=function(t,e){if(t&&e&&"[object String]"===Object.prototype.toString.call(e)){switch(e){case"linear":e=q.easeLinear;break;case"poly":e=q.easePoly;break;case"quad":e=q.easeQuad;break;case"cubic":e=q.easeCubic;break;case"sin":e=q.easeSin;break;case"exp":e=q.easeExp;break;case"circle":e=q.easeCircle;break;case"elastic":e=q.easeElastic;break;case"back":e=q.easeBack;break;case"bounce":e=q.easeBounce}t.ease(e)}},W._getOrderedList=function(r,t,e){var i,a=[],s=[],h=[].concat(t),n=[].concat(t),o=[];return null!=e&&(o=o.concat(e)),(o=o.concat({ordering:h,desc:!1})).forEach(function(t){var e,i=[],s=[];if("function"==typeof t.ordering){if(r&&0<r.length)for(e in r[0])r[0].hasOwnProperty(e)&&-1===n.indexOf(e)&&n.push(e)}else if(t.ordering instanceof Array){for(e=0;e<t.ordering.length;e+=1)r&&0<r.length&&r[0].hasOwnProperty(t.ordering[e])&&s.push(t.ordering[e]),i.push(t.ordering[e]);s.length>i.length/2?n.concat(s):t.values=i}else n.push(t.ordering)},this),i=W._rollUp(r,h,n),1<=o.length&&(o.forEach(function(t){var o=null!==t.desc&&void 0!==t.desc&&t.desc,i=t.ordering,l=[],n=function(t){var e,i=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){i=void 0;break}i+=parseFloat(t[e])}return i},r=function(t,e){var i=0,s=n(t),r=n(e);return isNaN(s)||isNaN(r)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?i=-1:t[0]>e[0]&&(i=1):i=Date.parse(t[0])-Date.parse(e[0]):i=parseFloat(s)-parseFloat(r),i};"function"==typeof i?a.push(function(t,e){return(o?-1:1)*i(t,e)}):t.values&&0<t.values.length?(t.values.forEach(function(t){l.push([].concat(t).join("|"))},this),a.push(function(t,e){var i,s,r,n="",a="";for(r=0;r<h.length;r+=1)0<r&&(n+="|",a+="|"),n+=t[h[r]],a+=e[h[r]];return i=l.indexOf(n),s=l.indexOf(a),i=i<0?o?-1:l.length:i,s=s<0?o?-1:l.length:s,(o?-1:1)*(i-s)})):[].concat(t.ordering).forEach(function(s){a.push(function(t,e){var i=0;return void 0!==t[s]&&void 0!==e[s]&&(i=r([].concat(t[s]),[].concat(e[s]))),(o?-1:1)*i})})}),i.sort(function(t,e){for(var i=0,s=0;i<a.length&&0===s;)s=a[i](t,e),i+=1;return s}),i.forEach(function(t){var e,i=[];if(1===h.length)s.push(t[h[0]]);else{for(e=0;e<h.length;e+=1)i.push(t[h[e]]);s.push(i)}},this)),s},W._getSeriesOrder=function(t,e){var i=[].concat(e._orderRules),s=e.categoryFields,r=[];return null!=s&&0<s.length&&(null!==e.c&&void 0!==e.c&&e.c._hasMeasure()&&i.push({ordering:e.c.measure,desc:!0}),e.x._hasMeasure()&&i.push({ordering:e.x.measure,desc:!0}),e.y._hasMeasure()&&i.push({ordering:e.y.measure,desc:!0}),r=W._getOrderedList(t,s,i)),r},W._getSeriesSortPredicate=function(s,r,n){return function(t,e){var i=0;return r.x._hasCategories()&&(i=W._helpers.cx(t,s,r)-W._helpers.cx(e,s,r)),0===i&&r.y._hasCategories()&&(i=W._helpers.cy(t,s,r)-W._helpers.cy(e,s,r)),0===i&&n&&(i=W._arrayIndexCompare(n,t.aggField,e.aggField)),i}},W._helpers={cx:function(t,e,i){return null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.cx):i.x._hasCategories()&&2<=i.x.categoryFields.length?i.x._scale(t.cx)+W._helpers.xGap(e,i)+(t.xOffset+.5)*((e._widthPixels()/i.x._max-2*W._helpers.xGap(e,i))*t.width):i.x._scale(t.cx)+e._widthPixels()/i.x._max/2},cy:function(t,e,i){return null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.cy):null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&2<=i.y.categoryFields.length?i.y._scale(t.cy)-e._heightPixels()/i.y._max+W._helpers.yGap(e,i)+(t.yOffset+.5)*((e._heightPixels()/i.y._max-2*W._helpers.yGap(e,i))*t.height):i.y._scale(t.cy)-e._heightPixels()/i.y._max/2},r:function(t,e,i){var s=0,r=1;return null===i.z||void 0===i.z?s=i.radius&&"auto"!==i.radius?i.radius:5:(i.radius&&"auto"!==i.radius&&1<i.radius&&(r=i.radius/i.z._scale(i.z._max)),s=i.z._hasMeasure()?i.z._scale(t.r)*r:i.z._scale(e._heightPixels()/100)*r),s},xGap:function(t,e){var i=0;return(null===e.x.measure||void 0===e.x.measure)&&0<e.barGap&&(i=t._widthPixels()/e.x._max*(.99<e.barGap?.99:e.barGap)/2),i},xClusterGap:function(t,e,i){var s=0;return null!==i.x.categoryFields&&void 0!==i.x.categoryFields&&2<=i.x.categoryFields.length&&0<i.clusterBarGap&&!i.x._hasMeasure()&&(s=t.width*(e._widthPixels()/i.x._max-2*W._helpers.xGap(e,i))*(.99<i.clusterBarGap?.99:i.clusterBarGap)/2),s},yGap:function(t,e){var i=0;return(null===e.y.measure||void 0===e.y.measure)&&0<e.barGap&&(i=t._heightPixels()/e.y._max*(.99<e.barGap?.99:e.barGap)/2),i},yClusterGap:function(t,e,i){var s=0;return null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&2<=i.y.categoryFields.length&&0<i.clusterBarGap&&!i.y._hasMeasure()&&(s=t.height*(e._heightPixels()/i.y._max-2*W._helpers.yGap(e,i))*(.99<i.clusterBarGap?.99:i.clusterBarGap)/2),s},x:function(t,e,i){return i.x._hasTimeField()?i.x._scale(t.x)-W._helpers.width(t,e,i)/2:null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.x):i.x._scale(t.x)+W._helpers.xGap(e,i)+t.xOffset*(W._helpers.width(t,e,i)+2*W._helpers.xClusterGap(t,e,i))+W._helpers.xClusterGap(t,e,i)},y:function(t,e,i){return i.y._hasTimeField()?i.y._scale(t.y)-W._helpers.height(t,e,i)/2:null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.y):i.y._scale(t.y)-e._heightPixels()/i.y._max+W._helpers.yGap(e,i)+t.yOffset*(W._helpers.height(t,e,i)+2*W._helpers.yClusterGap(t,e,i))+W._helpers.yClusterGap(t,e,i)},width:function(t,e,i){return null!==i.x.measure&&void 0!==i.x.measure?Math.abs(i.x._scale(t.x<0?t.x-t.width:t.x+t.width)-i.x._scale(t.x)):i.x._hasTimeField()?i.x.floatingBarWidth:t.width*(e._widthPixels()/i.x._max-2*W._helpers.xGap(e,i))-2*W._helpers.xClusterGap(t,e,i)},height:function(t,e,i){return i.y._hasTimeField()?i.y.floatingBarWidth:null!==i.y.measure&&void 0!==i.y.measure?Math.abs(i.y._scale(t.y)-i.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(e._heightPixels()/i.y._max-2*W._helpers.yGap(e,i))-2*W._helpers.yClusterGap(t,e,i)},opacity:function(t,e,i){return null!==i.c&&void 0!==i.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,i){return null!==i.c&&void 0!==i.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,i){return null!==i.c&&void 0!==i.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},W._interpolate=function(t,e){if(t&&e){if("[object String]"===Object.prototype.toString.call(e))switch(e){case"linear":e=q.curveLinear;break;case"linear-closed":e=q.curveLinearClosed;break;case"step":e=q.curveStep;break;case"step-before":e=q.curveStepBefore;break;case"step-after":e=q.curveStepAfter;break;case"basis":e=q.curveBasis;break;case"basis-open":e=q.curveBasisOpen;break;case"basis-closed":e=q.curveBasisClosed;break;case"bundle":e=q.curveBundle;break;case"cardinal":e=q.curveCardinal;break;case"cardinal-open":e=q.curveCardinalOpen;break;case"cardinal-closed":e=q.curveCardinalClosed;break;case"monotone":e=q.curveMonotoneX}t.curve(e)}},W._parentHeight=function(t){var e=t.getBoundingClientRect().height;return(!e||e<0)&&(e=t.clientHeight),e},W._parentWidth=function(t){var e=t.getBoundingClientRect().width;return(!e||e<0)&&(e=t.clientWidth),e},W._parsePosition=function(e,i){var s=0;return e&&e.toString().split(",").forEach(function(t){t&&(isNaN(t)?"%"===t.slice(-1)?s+=i*(parseFloat(t.slice(0,t.length-1))/100):"px"===t.slice(-2)?s+=parseFloat(t.slice(0,t.length-2)):s=e:s+=parseFloat(t))},this),s<0&&(s=i+s),s},W._parseXPosition=function(t,e){return W._parsePosition(t,W._parentWidth(e))},W._parseYPosition=function(t,e){return W._parsePosition(t,W._parentHeight(e))},W._postDrawHandling=function(i,t,e,s){0===s?(t.each(function(t,e){i.afterDraw&&i.afterDraw(this,t,e)}),e.remove()):(t.on("end",function(t,e){i.afterDraw&&i.afterDraw(this,t,e)}),e.call(function(){i.shapes&&i.shapes.exit().remove()}))},W._removeTooltip=function(t,e,i){i._tooltipGroup&&i._tooltipGroup.remove()},W._rollUp=function(t,n,a){var o=[];return n=null!=n?[].concat(n):[],t.forEach(function(i){var s=-1,e={},r=!0;o.forEach(function(e,t){-1===s&&(r=!0,n.forEach(function(t){r=r&&i[t]===e[t]},this),r&&(s=t))},this),-1!==s?e=o[s]:(n.forEach(function(t){e[t]=i[t]},this),o.push(e),s=o.length-1),a.forEach(function(t){-1===n.indexOf(t)&&(void 0===e[t]&&(e[t]=[]),e[t]=e[t].concat(i[t]))},this),o[s]=e},this),o},W._showBarTooltip=function(t,e,r,i){var s,n,a,o,l,h,u=5,c=10,d=750,p=q.select(e),g=p.node().getBBox().x,f=p.node().getBBox().y,m=p.node().getBBox().width,_=p.node().getBBox().height,y=p.attr("opacity"),x=p.attr("fill"),v=i._dropLineOrigin(),b=q.rgb(q.rgb(x).r+.6*(255-q.rgb(x).r),q.rgb(x).g+.6*(255-q.rgb(x).g),q.rgb(x).b+.6*(255-q.rgb(x).b)),w=q.rgb(q.rgb(x).r+.8*(255-q.rgb(x).r),q.rgb(x).g+.8*(255-q.rgb(x).g),q.rgb(x).b+.8*(255-q.rgb(x).b)),F=i.getTooltipText(t),C=0,k=0,P=0,S=function(t,e){var i=p.node().getCTM(),s=r.svg.node().createSVGPoint();return s.x=t||0,s.y=e||0,s.matrixTransform(i)};null!==r._tooltipGroup&&void 0!==r._tooltipGroup&&r._tooltipGroup.remove(),r._tooltipGroup=r.svg.append("g"),i.p||(h=i._isStacked()?1:m/2,i.x._hasCategories()||null===v.y||r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",g<i.x._origin?g+h:g+m-h).attr("y1",f<v.y?f+_:f).attr("x2",g<i.x._origin?g+h:g+m-h).attr("y2",f<v.y?f+_:f).call(function(t){r.noFormats||t.style("fill","none").style("stroke",x).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",y)}).transition().delay(d/2).duration(d/2).ease(q.easeLinear).attr("y2",f<v.y?v.y-1:v.y+1),h=i._isStacked()?1:_/2,i.y._hasCategories()||null===v.x||r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",g<v.x?g+m:g).attr("y1",f<i.y._origin?f+h:f+_-h).attr("x2",g<v.x?g+m:g).attr("y2",f<i.y._origin?f+h:f+_-h).call(function(t){r.noFormats||t.style("fill","none").style("stroke",x).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",y)}).transition().delay(d/2).duration(d/2).ease(q.easeLinear).attr("x2",g<v.x?v.x-1:v.x+1)),n=(s=r._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+r.customClassList.tooltipBox),s.selectAll(".dimple-dont-select-any").data(F).enter().append("text").attr("class","dimple-tooltip "+r.customClassList.tooltipLabel).text(function(t){return t}).call(function(t){r.noFormats||t.style("font-family",i.tooltipFontFamily).style("font-size",i._getTooltipFontSize())}),s.each(function(){k=this.getBBox().width>k?this.getBBox().width:k,P=this.getBBox().width>P?this.getBBox().height:P}),s.selectAll("text").attr("x",0).attr("y",function(){return(C+=this.getBBox().height)-this.getBBox().height/2}),n.attr("x",-u).attr("y",-u).attr("height",Math.floor(C+u)-.5).attr("width",k+2*u).attr("rx",5).attr("ry",5).call(function(t){r.noFormats||t.style("fill",w).style("stroke",b).style("stroke-width",2).style("opacity",.95)}),S(g+m+u+c+k).x<parseFloat(r.svg.node().getBBox().width)?(a=g+m+u+c,o=f+_/2-(C-(P-u))/2):0<S(g-(u+c+k)).x?(a=g-(u+c+k),o=f+_/2-(C-(P-u))/2):S(0,f+_+C+c+u).y<parseFloat(r.svg.node().getBBox().height)?(a=(a=0<(a=g+m/2-(2*u+k)/2)?a:c)+k<parseFloat(r.svg.node().getBBox().width)?a:parseFloat(r.svg.node().getBBox().width)-k-c,o=f+_+2*u):(a=(a=0<(a=g+m/2-(2*u+k)/2)?a:c)+k<parseFloat(r.svg.node().getBBox().width)?a:parseFloat(r.svg.node().getBBox().width)-k-c,o=f-C-(P-u)),l=S(a,o),s.attr("transform","translate("+l.x+" , "+l.y+")")},W._showPointTooltip=function(t,e,i,s){var r,n,a,o,l=5,h=10,u=750,c=q.select(e),d=parseFloat(c.attr("cx")),p=parseFloat(c.attr("cy")),g=parseFloat(c.attr("r")),f=W._helpers.opacity(t,i,s),m=c.attr("stroke"),_=s._dropLineOrigin(),y=q.rgb(q.rgb(m).r+.6*(255-q.rgb(m).r),q.rgb(m).g+.6*(255-q.rgb(m).g),q.rgb(m).b+.6*(255-q.rgb(m).b)),x=q.rgb(q.rgb(m).r+.8*(255-q.rgb(m).r),q.rgb(m).g+.8*(255-q.rgb(m).g),q.rgb(m).b+.8*(255-q.rgb(m).b)),v=0,b=0,w=0,F=s.getTooltipText(t);null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),i._tooltipGroup=i.svg.append("g"),i._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+i.customClassList.lineMarkerCircle).attr("cx",d).attr("cy",p).attr("r",g).call(function(t){i.noFormats||t.attr("opacity",0).style("fill","none").style("stroke",m).style("stroke-width",1)}).transition().duration(u/2).ease(q.easeLinear).attr("r",g+s.lineWeight+2).call(function(t){i.noFormats||t.attr("opacity",1).style("stroke-width",2)}),null!==_.y&&i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",d).attr("y1",p<_.y?p+g+s.lineWeight+2:p-g-s.lineWeight-2).attr("x2",d).attr("y2",p<_.y?p+g+s.lineWeight+2:p-g-s.lineWeight-2).call(function(t){i.noFormats||t.style("fill","none").style("stroke",m).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",f)}).transition().delay(u/2).duration(u/2).ease(q.easeLinear).attr("y2",p<_.y?_.y-1:_.y+1),null!==_.x&&i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",d<_.x?d+g+s.lineWeight+2:d-g-s.lineWeight-2).attr("y1",p).attr("x2",d<_.x?d+g+s.lineWeight+2:d-g-s.lineWeight-2).attr("y2",p).call(function(t){i.noFormats||t.style("fill","none").style("stroke",m).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",f)}).transition().delay(u/2).duration(u/2).ease(q.easeLinear).attr("x2",d<_.x?_.x-1:_.x+1),n=(r=i._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+i.customClassList.tooltipBox),r.selectAll(".dont-select-any").data(F).enter().append("text").attr("class","dimple-tooltip "+i.customClassList.tooltipLabel).text(function(t){return t}).call(function(t){i.noFormats||t.style("font-family",s.tooltipFontFamily).style("font-size",s._getTooltipFontSize())}),r.each(function(){b=this.getBBox().width>b?this.getBBox().width:b,w=this.getBBox().width>w?this.getBBox().height:w}),r.selectAll("text").attr("x",0).attr("y",function(){return(v+=this.getBBox().height)-this.getBBox().height/2}),n.attr("x",-l).attr("y",-l).attr("height",Math.floor(v+l)-.5).attr("width",b+2*l).attr("rx",5).attr("ry",5).call(function(t){i.noFormats||t.style("fill",x).style("stroke",y).style("stroke-width",2).style("opacity",.95)}),d+g+l+h+b<parseFloat(i.svg.node().getBBox().width)?(a=d+g+l+h,o=p-(v-(w-l))/2):0<d-g-(l+h+b)?(a=d-g-(l+h+b),o=p-(v-(w-l))/2):p+g+v+h+l<parseFloat(i.svg.node().getBBox().height)?(a=(a=0<(a=d-(2*l+b)/2)?a:h)+b<parseFloat(i.svg.node().getBBox().width)?a:parseFloat(i.svg.node().getBBox().width)-b-h,o=p+g+2*l):(a=(a=0<(a=d-(2*l+b)/2)?a:h)+b<parseFloat(i.svg.node().getBBox().width)?a:parseFloat(i.svg.node().getBBox().width)-b-h,o=p-v-(w-l)),r.attr("transform","translate("+a+" , "+o+")")},W.filterData=function(t,e,i){var s=t;return null!==e&&null!==i&&(null!=i&&(i=[].concat(i)),s=[],t.forEach(function(t){null===t[e]?s.push(t):-1<i.indexOf([].concat(t[e]).join("/"))&&s.push(t)},this)),s},W.getUniqueValues=function(t,e){var r=[];return null!=e&&(e=[].concat(e),t.forEach(function(i){var s="";e.forEach(function(t,e){0<e&&(s+="/"),s+=i[t]},this),-1===r.indexOf(s)&&r.push(s)},this)),r},W.newSvg=function(t,e,i){var s=null;if(null!=t||(t="body"),(s=q.select(t)).empty())throw"The '"+t+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return s.append("svg").attr("width",e).attr("height",i)},W});var _slice=Array.prototype.slice,_slicedToArray=function(){function i(t,e){var i=[],s=!0,r=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);s=!0);}catch(l){r=!0,n=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(r)throw n}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return i(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.parsley=e(t.jQuery)}(this,function(c){"use strict";function r(e,i){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(this),e.apply(i||L,t)}),e.parsleyAdaptedCallback}function n(t){return 0===t.lastIndexOf(V,0)?t.substr(V.length):t}function i(){var s=this,r=window||global;_extends(this,{isNativeEvent:function(t){return t.originalEvent&&!1!==t.originalEvent.isTrusted},fakeInputEvent:function(t){s.isNativeEvent(t)&&c(t.target).trigger("input")},misbehaves:function(t){s.isNativeEvent(t)&&(s.behavesOk(t),c(document).on("change.inputevent",t.data.selector,s.fakeInputEvent),s.fakeInputEvent(t))},behavesOk:function(t){s.isNativeEvent(t)&&c(document).off("input.inputevent",t.data.selector,s.behavesOk).off("change.inputevent",t.data.selector,s.misbehaves)},install:function(){if(!r.inputEventPatched){r.inputEventPatched="0.0.3";for(var t=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],e=0;e<t.length;e++){var i=t[e];c(document).on("input.inputevent",i,{selector:i},s.behavesOk).on("change.inputevent",i,{selector:i},s.misbehaves)}}},uninstall:function(){delete r.inputEventPatched,c(document).off(".inputevent")}})}var s,t=1,e={},h={attr:function(t,e,i){var s,r,n,a=new RegExp("^"+e,"i");if(void 0===i)i={};else for(s in i)i.hasOwnProperty(s)&&delete i[s];if(!t)return i;for(s=(n=t.attributes).length;s--;)(r=n[s])&&r.specified&&a.test(r.name)&&(i[this.camelize(r.name.slice(e.length))]=this.deserializeValue(r.value));return i},checkAttr:function(t,e,i){return t.hasAttribute(e+i)},setAttr:function(t,e,i,s){t.setAttribute(this.dasherize(e+i),String(s))},generateID:function(){return""+t++},deserializeValue:function(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?c.parseJSON(t):t:e):t}catch(i){return t}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var t;window.console&&"function"==typeof window.console.warn&&(t=window.console).warn.apply(t,arguments)},warnOnce:function(t){e[t]||(e[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){e={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},parse:{date:function t(e){var i=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!i)return null;var s=i.map(function(t){return parseInt(t,10)}),r=_slicedToArray(s,4),n=(r[0],r[1]),a=r[2],o=r[3],t=new Date(n,a-1,o);return t.getFullYear()!==n||t.getMonth()+1!==a||t.getDate()!==o?null:t},string:function(t){return t},integer:function(t){return isNaN(t)?null:parseInt(t,10)},number:function(t){if(isNaN(t))throw null;return parseFloat(t)},"boolean":function(t){return!/^\s*false\s*$/i.test(t)},object:function(t){return h.deserializeValue(t)},regexp:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)?(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")):t="^"+t+"$",new RegExp(t,e)}},parseRequirement:function(t,e){var i=this.parse[t||"string"];if(!i)throw'Unknown requirement specification: "'+t+'"';var s=i(e);if(null===s)throw"Requirement is not a "+t+': "'+e+'"';return s},namespaceEvents:function(t,e){return(t=this.trimString(t||"").split(/\s+/))[0]?c.map(t,function(t){return t+"."+e}).join(" "):""},difference:function(t,i){var s=[];return c.each(t,function(t,e){-1==i.indexOf(e)&&s.push(e)}),s},all:function(t){return c.when.apply(c,_toConsumableArray(t).concat([42,42]))},objectCreate:Object.create||(s=function(){},function(t){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");s.prototype=t;var e=new s;return s.prototype=null,e}),_SubmitSelector:'input[type="submit"], button:submit'},a={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},o=function(){this.__id__=h.generateID()};o.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var e=this,t=function(){var t=c.Deferred();return!0!==e.validationResult&&t.reject(),t.resolve().promise()};return[t,t]},actualizeOptions:function(){return h.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){for(var e in this.domOptions=h.objectCreate(this.parent.options),this.options=h.objectCreate(this.domOptions),t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},subscribe:function(t,e){c.listenTo(this,t.toLowerCase(),e)},off:function(t,e){var i=this._listeners&&this._listeners[t];if(i)if(e)for(var s=i.length;s--;)i[s]===e&&i.splice(s,1);else delete this._listeners[t];return this},unsubscribe:function(t){c.unsubscribeTo(this,t.toLowerCase())},trigger:function(t,e,i){e=e||this;var s,r=this._listeners&&this._listeners[t];if(r)for(var n=r.length;n--;)if(!1===(s=r[n].call(e,e,i)))return s;return!this.parent||this.parent.trigger(t,e,i)},asyncIsValid:function(t,e){return h.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:t,force:e})},_findRelated:function(){return this.options.multiple?c(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var l=function(t,e){var i=t.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+t+'"';var s=i[1].split(",").map(h.trimString);if(s.length!==e)throw"Requirement has "+s.length+" values when "+e+" are needed";return s},u=function(t,e,i){var s=null,r={};for(var n in t)if(n){var a=i(n);"string"==typeof a&&(a=h.parseRequirement(t[n],a)),r[n]=a}else s=h.parseRequirement(t[n],e);return[s,r]},d=function(t){c.extend(!0,this,t)};d.prototype={validate:function(t,e){if(this.fn)return 3<arguments.length&&(e=[].slice.call(arguments,1,-1)),this.fn(t,e);if(Array.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var i=arguments[arguments.length-1];if(this.validateDate&&i._isDateInput())return arguments[0]=h.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(t)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,e){if("string"!=typeof t)return Array.isArray(t)?t:[t];var i=this.requirementType;if(Array.isArray(i)){for(var s=l(t,i.length),r=0;r<s.length;r++)s[r]=h.parseRequirement(i[r],s[r]);return s}return c.isPlainObject(i)?u(i,t,e):[h.parseRequirement(i,t)]},requirementType:"string",priority:2};var p=function(t,e){this.__class__="ValidatorRegistry",this.locale="en",this.init(t||{},e||{})},g={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(t){return null!==h.parse.date(t)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};g.range=g.number;var f=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},m=function(t,e){return e.map(h.parse[t])},_=function(r,n){return function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return i.pop(),n.apply(void 0,[t].concat(_toConsumableArray(m(r,i))))}},y=function(t){return{validateDate:_("date",t),validateNumber:_("number",t),requirementType:t.length<=2?"string":["string","string"],priority:30}};p.prototype={init:function(t,e){for(var i in this.catalog=e,this.validators=_extends({},this.validators),t)this.addValidator(i,t[i].fn,t[i].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"==typeof e&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e]=i,this},addMessages:function(t,e){for(var i in e)this.addMessage(t,i,e[i]);return this},addValidator:function(t){if(this.validators[t])h.warn('Validator "'+t+'" is already defined.');else if(a.hasOwnProperty(t))return void h.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(t){return this.validators[t]?this._setValidator.apply(this,arguments):(h.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||h.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,i){for(var s in"object"!=typeof e&&(e={fn:e,priority:i}),e.validate||(e=new d(e)),(this.validators[t]=e).messages||{})this.addMessage(s,t,e.messages[s]);return this},getErrorMessage:function(t){var e;"type"===t.name?e=(this.catalog[this.locale][t.name]||{})[t.requirements]:e=this.formatMessage(this.catalog[this.locale][t.name],t.requirements);return e||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"!=typeof e)return"string"==typeof t?t.replace(/%s/i,e):"";for(var i in e)t=this.formatMessage(t,e[i]);return t},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return 0<t.length},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e,i){var s=arguments.length<=2||void 0===i?{}:arguments[2],r=s.step,n=void 0===r?"any":r,a=s.base,o=void 0===a?0:a,
l=g[e];if(!l)throw new Error("validator type `"+e+"` is not supported");if(!l.test(t))return!1;if("number"===e&&!/^any$/i.test(n||"")){var h=Number(t),u=Math.max(f(n),f(o));if(f(h)>u)return!1;var c=function(t){return Math.round(t*Math.pow(10,u))};if((c(h)-c(o))%c(n)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(t,e){return e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},min:y(function(t,e){return e<=t}),max:y(function(t,e){return t<=e}),range:y(function(t,e,i){return e<=t&&t<=i}),equalto:{validateString:function(t,e){var i=c(e);return i.length?t===i.val():t===e},priority:256}}};var x={},v=function z(t,e,i){for(var s=[],r=[],n=0;n<t.length;n++){for(var a=!1,o=0;o<e.length;o++)if(t[n].assert.name===e[o].assert.name){a=!0;break}a?r.push(t[n]):s.push(t[n])}return{kept:r,added:s,removed:i?[]:z(e,t,!0).added}};x.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",h._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var t=0;t<this.fields.length;t++){var e=this.fields[t];if(!0!==e.validationResult&&0<e.validationResult.length&&"undefined"==typeof e.options.noFocus&&(this._focusedField=e.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},x.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var t=v(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(t),this._actualizeTriggers(),!t.kept.length&&!t.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var t=[],e=0;e<this.validationResult.length;e++)t.push(this.validationResult[e].errorMessage||this._getErrorMessage(this.validationResult[e].assert));return t},addError:function(t,e){var i=arguments.length<=1||void 0===e?{}:arguments[1],s=i.message,r=i.assert,n=i.updateClass,a=void 0===n||n;this._buildUI(),this._addError(t,{message:s,assert:r}),a&&this._errorClass()},updateError:function(t,e){var i=arguments.length<=1||void 0===e?{}:arguments[1],s=i.message,r=i.assert,n=i.updateClass,a=void 0===n||n;this._buildUI(),this._updateError(t,{message:s,assert:r}),a&&this._errorClass()},removeError:function(t,e){var i=(arguments.length<=1||void 0===e?{}:arguments[1]).updateClass,s=void 0===i||i;this._buildUI(),this._removeError(t),s&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(c(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var e=0;e<t.removed.length;e++)this._removeError(t.removed[e].assert.name);for(e=0;e<t.added.length;e++)this._addError(t.added[e].assert.name,{message:t.added[e].errorMessage,assert:t.added[e].assert});for(e=0;e<t.kept.length;e++)this._updateError(t.kept[e].assert.name,{message:t.kept[e].errorMessage,assert:t.kept[e].assert})}},_addError:function(t,e){var i=e.message,s=e.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(c(this.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(s)))},_updateError:function(t,e){var i=e.message,s=e.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(i||this._getErrorMessage(s))},_removeError:function(t){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove()},_getErrorMessage:function(t){var e=t.name+"Message";return"undefined"!=typeof this.options[e]?window.Parsley.formatMessage(this.options[e],t.requirements):window.Parsley.getErrorMessage(t)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=c(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler)return 0===c(this.options.classHandler).length&&ParsleyUtils.warn("No elements found that match the selector `"+this.options.classHandler+"` set in options.classHandler or data-parsley-class-handler"),c(this.options.classHandler);if("function"==typeof this.options.classHandler)var t=this.options.classHandler.call(this,this);return void 0!==t&&t.length?t:this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(c(this.options.errorsContainer).length)return c(this.options.errorsContainer).append(this._ui.$errorsWrapper);h.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(t=this.options.errorsContainer.call(this,this));return void 0!==t&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var t,e=this,i=this._findRelated();i.off(".Parsley"),this._failedOnce?i.on(h.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){e._validateIfNeeded()}):(t=h.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(t,function(t){e._validateIfNeeded(t)})},_validateIfNeeded:function(t){var e=this;t&&/key|input/.test(t.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return e.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var b=function(t,e,i){this.__class__="Form",this.element=t,this.$element=c(t),this.domOptions=e,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},w={pending:null,resolved:!0,rejected:!1};b.prototype={onSubmitValidate:function(t){var e=this;if(!0!==t.parsley){var i=this._submitSource||this.$element.find(h._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!i||null===i.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var s=this.whenValidate({event:t});"resolved"===s.state()&&!1!==this._trigger("submit")||(t.stopImmediatePropagation(),t.preventDefault(),"pending"===s.state()&&s.done(function(){e._submit(i)}))}}},onSubmitButton:function(t){this._submitSource=t.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var e=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===e.length&&(e=c('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),e.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(_extends(c.Event("submit"),{parsley:!0}))}},validate:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){h.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={group:e[0],force:e[1],event:e[2]}}return w[this.whenValidate(t).state()]},whenValidate:function(t){var e,i=this,s=arguments.length<=0||void 0===t?{}:arguments[0],r=s.group,n=s.force,a=s.event;(this.submitEvent=a)&&(this.submitEvent=_extends({},a,{preventDefault:function(){h.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var o=this._withoutReactualizingFormOptions(function(){return c.map(i.fields,function(t){return t.whenValidate({force:n,group:r})})});return(e=h.all(o).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1,i.focus(),i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){h.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={group:e[0],force:e[1]}}return w[this.whenValid(t).state()]},whenValid:function(t){var e=this,i=arguments.length<=0||void 0===t?{}:arguments[0],s=i.group,r=i.force;this._refreshFields();var n=this._withoutReactualizingFormOptions(function(){return c.map(e.fields,function(t){return t.whenValid({group:s,force:r})})});return h.all(n)},reset:function(){for(var t=0;t<this.fields.length;t++)this.fields[t].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var r=this,t=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){r.$element.find(r.options.inputs).not(r.options.excluded).each(function(t,e){var i=new window.Parsley.Factory(e,{},r);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var s=i.__class__+"-"+i.__id__;"undefined"==typeof r.fieldsMappedById[s]&&(r.fieldsMappedById[s]=i,r.fields.push(i))}}),c.each(h.difference(t,r.fields),function(t,e){e.reset()})}),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=t();return this.actualizeOptions=e,i},_trigger:function(t){return this.trigger("form:"+t)}};var F=function(t,e,i,s,r){var n=window.Parsley._validatorRegistry.validators[e],a=new d(n);s=s||t.options[e+"Priority"]||a.priority,_extends(this,{validator:a,name:e,requirements:i,priority:s,isDomConstraint:r=!0===r}),this._parseRequirements(t.options)},C=function(t){return t[0].toUpperCase()+t.slice(1)},k=function(t,e,i,s){this.__class__="Field",this.element=t,this.$element=c(t),void 0!==s&&(this.parent=s),this.options=i,this.domOptions=e,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},P={pending:null,resolved:!0,rejected:!(F.prototype={validate:function(t,e){var i;return(i=this.validator).validate.apply(i,[t].concat(_toConsumableArray(this.requirementList),[e]))},_parseRequirements:function(e){var i=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(t){return e[i.name+C(t)]})}})};k.prototype={validate:function(t){1<=arguments.length&&!c.isPlainObject(t)&&(h.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var e=this.whenValidate(t);if(!e)return!0;switch(e.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(t){var e,i=this,s=arguments.length<=0||void 0===t?{}:arguments[0],r=s.force,n=s.group;if(this.refreshConstraints(),!n||this._isInGroup(n))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){i._reflowUI()}).done(function(){i._trigger("success")}).fail(function(){i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return void 0===t&&(t=this.getValue()),!(!t.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty)},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==c.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){h.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={force:e[0],value:e[1]}}var i=this.whenValid(t);return!i||P[i.state()]},whenValid:function(t){var s=this,e=arguments.length<=0||void 0===t?{}:arguments[0],i=e.force,r=void 0!==i&&i,n=e.value,a=e.group;if(e._refreshed||this.refreshConstraints(),!a||this._isInGroup(a)){if(this.validationResult=!0,!this.hasConstraints())return c.when();if(null!=n||(n=this.getValue()),!this.needsValidation(n)&&!0!==r)return c.when();var o=this._getGroupedConstraints(),l=[];return c.each(o,function(t,e){var i=h.all(c.map(e,function(t){return s._validateConstraint(n,t)}));if(l.push(i),"rejected"===i.state())return!1}),h.all(l)}},_validateConstraint:function(t,e){var i=this,s=e.validate(t,this);return!1===s&&(s=c.Deferred().reject()),h.all([s]).fail(function(t){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:e,errorMessage:"string"==typeof t&&t})})},getValue:function(){var t;return null==(t="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(t)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,i,s){if(window.Parsley._validatorRegistry.validators[t]){var r=new F(this,t,e,i,s);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(t.push(this.constraints[i]),e[this.constraints[i].name]=this.constraints[i]);for(var s in this.constraints=t,this.constraintsByName=e,this.options)this.addConstraint(s,this.options[s],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var t=this.element.getAttribute("min"),e=this.element.getAttribute("max");null!==t&&null!==e?this.addConstraint("range",[t,e],void 0,!0):null!==t?this.addConstraint("min",t,void 0,!0):null!==e&&this.addConstraint("max",e,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var i=this.element.type;return"number"===i?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:t||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(i)?this.addConstraint("type",i,void 0,!0):this},_isRequired:function(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(t){return this.trigger("field:"+t)},_handleWhitespace:function(t){return!0===this.options.trimValue&&h.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(t=h.trimString(t)),t},_isDateInput:function(){var t=this.constraintsByName.type;return t&&"date"===t.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},i=0;i<this.constraints.length;i++){var s=this.constraints[i].priority;e[s]||t.push(e[s]=[]),e[s].push(this.constraints[i])}return t.sort(function(t,e){return e[0].priority-t[0].priority}),t}};var S=k,M=function(){this.__class__="FieldMultiple"};M.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++)if(c("html").has(this.$elements[e]).length){t=this.$elements[e].data("FieldMultiple").refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(e,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){if("radio"===this.element.type)return this._findRelated().filter(":checked").val()||"";if("checkbox"===this.element.type){var t=[];return this._findRelated().filter(":checked").each(function(){t.push(c(this).val())}),t}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var A=function(t,e,i){this.element=t,this.$element=c(t);var s=this.$element.data("Parsley");if(s)return void 0!==i&&s.parent===window.Parsley&&(s.parent=i,s._resetOptions(s.options)),"object"==typeof e&&_extends(s.options,e),s;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(e)};A.prototype={init:function(t){return this.__class__="Parsley",this.__version__="2.7.2",this.__id__=h.generateID(),this._resetOptions(t),"FORM"===this.element.nodeName||h.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return"radio"===this.element.type||"checkbox"===this.element.type||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,e,i=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return h.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&c('input[name="'+t+'"]').each(function(t,e){"radio"!==e.type&&"checkbox"!==e.type||e.setAttribute(i.options.namespace+"multiple",i.options.multiple)});for(var s=this._findRelated(),r=0;r<s.length;r++)if(void 0!==(e=c(s.get(r)).data("Parsley"))){this.$element.data("FieldMultiple")||e.addElement(this.$element);break}return this.bind("parsleyField",!0),e||this.bind("parsleyFieldMultiple")},bind:function(t,e){var i;switch(t){case"parsleyForm":i=c.extend(new b(this.element,this.domOptions,this.options),new o,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=c.extend(new S(this.element,this.domOptions,this.options,this.parent),new o,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=c.extend(new S(this.element,this.domOptions,this.options,this.parent),new M,new o,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&h.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==e?this.$element.data("FieldMultiple",i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init")),i}};var T=c.fn.jquery.split(".");if(parseInt(T[0])<=1&&parseInt(T[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";T.forEach||h.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var E=_extends(new o,{element:document,$element:c(document),actualizeOptions:null,_resetOptions:null,Factory:A,version:"2.7.2"});_extends(S.prototype,x.Field,o.prototype),_extends(b.prototype,x.Form,o.prototype),_extends(A.prototype,o.prototype),c.fn.parsley=c.fn.psly=function(t){if(1<this.length){var e=[];return this.each(function(){e.push(c(this).parsley(t))}),e}return c(this).length?new A(this[0],t):void h.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),E.options=_extends(h.objectCreate(a),window.ParsleyConfig),window.ParsleyConfig=E.options,window.Parsley=window.psly=E,E.Utils=h,window.ParsleyUtils={},c.each(h,function(t,e){"function"==typeof e&&(window.ParsleyUtils[t]=function(){return h.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),h[t].apply(h,arguments)})});var O=window.Parsley._validatorRegistry=new p(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},c.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(t,e){window.Parsley[e]=function(){return O[e].apply(O,arguments)},window.ParsleyValidator[e]=function(){var t;return h.warnOnce("Accessing the method '"+e+"' through Validator is deprecated. Simply call 'window.Parsley."+e+"(...)'"),(t=window.Parsley)[e].apply(t,arguments)}}),window.Parsley.UI=x,window.ParsleyUI={removeError:function(t,e,i){var s=!0!==i;return h.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t.removeError(e,{updateClass:s})},getErrorsMessages:function(t){return h.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),t.getErrorsMessages()}},c.each("addError updateError".split(" "),function(t,a){window.ParsleyUI[a]=function(t,e,i,s,r){var n=!0!==r;return h.warnOnce("Accessing UI is deprecated. Call '"+a+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t[a](e,{message:i,assert:s,updateClass:n})}}),!1!==window.ParsleyConfig.autoBind&&c(function(){c("[data-parsley-validate]").length&&c("[data-parsley-validate]").parsley()});var L=c({}),B=function(){h.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},V="parsley:";return c.listen=function(t,e,i){var s;if(B(),"object"==typeof arguments[1]&&"function"==typeof i&&(s=arguments[1],e=arguments[2]),"function"!=typeof e)throw new Error("Wrong parameters");window.Parsley.on(n(t),r(e,s))},c.listenTo=function(t,e,i){if(B(),!(t instanceof S||t instanceof b))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");t.on(n(e),r(i))},c.unsubscribe=function(t,e){if(B(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(n(t),e.parsleyAdaptedCallback)},c.unsubscribeTo=function(t,e){if(B(),!(t instanceof S||t instanceof b))throw new Error("Must give Parsley instance");t.off(n(e))},c.unsubscribeAll=function(e){B(),window.Parsley.off(n(e)),c("form,input,textarea,select").each(function(){var t=c(this).data("Parsley");t&&t.off(n(e))})},c.emit=function(t,e){var i;B();var s=e instanceof S||e instanceof b,r=Array.prototype.slice.call(arguments,s?2:1);r.unshift(n(t)),s||(e=window.Parsley),(i=e).trigger.apply(i,_toConsumableArray(r))},c.extend(!0,E,{asyncValidators:{"default":{fn:function(t){return 200<=t.status&&t.status<300},url:!1},reverse:{fn:function(t){return t.status<200||300<=t.status},url:!1}},addAsyncValidator:function(t,e,i,s){return E.asyncValidators[t]={fn:e,url:i||!1,options:s||{}},this}}),E.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,e,i,s){var r,n,a={},o=i.validator||(!0===i.reverse?"reverse":"default");if("undefined"==typeof E.asyncValidators[o])throw new Error("Calling an undefined async validator: `"+o+"`");-1<(e=E.asyncValidators[o].url||e).indexOf("{value}")?e=e.replace("{value}",encodeURIComponent(t)):a[s.element.getAttribute("name")||s.element.getAttribute("id")]=t;var l=c.extend(!0,i.options||{},E.asyncValidators[o].options);r=c.extend(!0,{},{url:e,data:a,type:"GET"},l),s.trigger("field:ajaxoptions",s,r),n=c.param(r),"undefined"==typeof E._remoteCache&&(E._remoteCache={});var h=E._remoteCache[n]=E._remoteCache[n]||c.ajax(r),u=function(){var t=E.asyncValidators[o].fn.call(s,h,e,i);return t||(t=c.Deferred().reject()),c.when(t)};return h.then(u,u)},priority:-1}),E.on("form:submit",function(){E._remoteCache={}}),o.prototype.addAsyncValidator=function(){return h.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),E.addAsyncValidator.apply(E,arguments)},E.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),E.setLocale("en"),(new i).install(),E}),$(document).ready(function(){function t(){Typed["new"]("#intro-end",{strings:["teach robots to autonomously discover world's structure.","teach robots to understand cause and effect.","automate scientific tasks.","make the world a better place (currently this means stopping russian war in my home country). \u0421onsider making regular donations (such as <strong><a target='_blank'; href='https://kolona.koloua.com/en#Why' style='color: #009' >KOLO</a></strong> or <strong><a target='_blank'; href='https://www.comebackalive.in.ua/donate' style='color: #009' > Come Back Alive</a></strong>) to help Ukraine stop this war as soon as possible."],backDelay:10,typeSpeed:0,backSpeed:0,callback:function(){$(".hm-item").addClass("animated pulse")}})}$(function(){$("#typed-intro").typed({stringsElement:document.getElementById("typed-strings"),startDelay:1e3,typeSpeed:1,callback:function(){$(".typed-cursor").hide(),t()}})}),$(".back-to-top i").click(function(){$("body,html").animate({scrollTop:0},2e3)}),$("#skillsAn").animatedModal({modalTarget:"skillsModal",color:"#202020",animatedIn:"slideInDown",animatedOut:"slideOutUp",overflow:"hidden",afterOpen:function(){$("#skillsModal").css("transform","initial")},afterClose:function(){$("body").removeAttr("style")}}),$("#contactAn").animatedModal({modalTarget:"contactModal",color:"#202020",animatedIn:"slideInDown",animatedOut:"slideOutUp",overflow:"hidden",afterOpen:function(){$("#contactModal").css("transform","initial")},afterClose:function(){$("body").removeAttr("style")}}),$(".modal-content").removeAttr("style");var e=dimple.newSvg("#skillchart-container","100%","100%");d3.select("html").style("height","100%").style("overflow","hidden"),d3.select("body").style("height","100%").style("overflow","hidden");var i=[{Skill:"Python",Level:7},{Skill:"R",Level:7},{Skill:"Scikit-learn",Level:7},{Skill:"Numpy",Level:6},{Skill:"Pandas",Level:8},{Skill:"ML Algorithms",Level:7},{Skill:"Statistics",Level:7},{Skill:"SQL/NoSQL",Level:8}],s=new dimple.chart(e,i);s.setMargins("40px","40px","30px","90px"),s.defaultColors=[new dimple.color("#176cc1")],s.addCategoryAxis("x","Skill").addOrderRule(["Python","R","Pandas","Numpy","ML Algorithms","SQL/NoSQL"]);var r=s.addMeasureAxis("y","Level");r.overrideMin=0,r.overrideMax=10,s.addSeries(null,dimple.plot.bar),s.draw(),window.onresize=function(){s.draw(0,!0)},$("input[name='skillSelect']:radio").on("change",function(){if("radioSE"==this.value){d3.select("svg").remove();var t=dimple.newSvg("#skillchart-container","100%","100%");d3.select("html").style("height","100%").style("overflow","hidden"),d3.select("body").style("height","100%").style("overflow","hidden");var e=[{Skill:"HTML",Level:9},{Skill:"CSS",Level:7},{Skill:"Bootstrap",Level:8},{Skill:"JS/Jquery",Level:7},{Skill:"Java",Level:6},{Skill:"Ruby",Level:6},{Skill:"SQL/NoSQL",Level:8},{Skill:"Python",Level:7}];(i=new dimple.chart(t,e)).setMargins("40px","40px","30px","90px"),i.defaultColors=[new dimple.color("#b71919")],i.addCategoryAxis("x","Skill").addOrderRule(["HTML","CSS","JS/Jquery","Bootstrap","Java","Ruby","Python","SQL/NoSQL"]),(s=i.addMeasureAxis("y","Level")).overrideMin=0,s.overrideMax=10,i.addSeries(null,dimple.plot.bar),i.draw(1e3)}else{d3.select("svg").remove();t=dimple.newSvg("#skillchart-container","100%","100%");d3.select("html").style("height","100%").style("overflow","hidden"),d3.select("body").style("height","100%").style("overflow","hidden");var i,s;e=[{Skill:"Python",Level:7},{Skill:"R",Level:6},{Skill:"Scikit-learn",Level:7},{Skill:"Numpy",Level:6},{Skill:"Pandas",Level:8},{Skill:"ML Algorithms",Level:7},{Skill:"Statistics",Level:7},{Skill:"SQL/NoSQL",Level:8}
];(i=new dimple.chart(t,e)).setMargins("40px","40px","30px","90px"),i.defaultColors=[new dimple.color("#176cc1")],i.addCategoryAxis("x","Skill").addOrderRule(["Python","R","Pandas","Numpy","ML Algorithms","SQL/NoSQL"]),(s=i.addMeasureAxis("y","Level")).overrideMin=0,s.overrideMax=10,i.addSeries(null,dimple.plot.bar),i.draw(1e3)}})});